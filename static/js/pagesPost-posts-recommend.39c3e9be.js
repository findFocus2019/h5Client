(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesPost-posts-recommend"],{"10f7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n("a34a")),a=n("2f62");function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,i,a,s,o){try{var r=t[s](o),u=r.value}catch(c){return void n(c)}r.done?e(u):Promise.resolve(u).then(i,a)}function r(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var s=t.apply(e,n);function r(t){o(s,i,a,r,u,"next",t)}function u(t){o(s,i,a,r,u,"throw",t)}r(void 0)})}}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){c(t,e,n[e])})}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={data:function(){return{showLoadMore:!1,loadMoreText:"加载中..."}},computed:u({},(0,a.mapState)(["hasLogin","recommendDatas"])),onReachBottom:function(){var t=r(i.default.mark(function t(){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.showLoadMore=!0,t.next=3,this.initData();case 3:this.showLoadMore=!1;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onPullDownRefresh:function(){var t=r(i.default.mark(function t(){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("onPullDownRefresh"),this.recommendDatas.page=1,this.recommendDatas.list=[],this.recommendDatas.timestamp=0,t.next=6,this.initData();case 6:uni.stopPullDownRefresh();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{initData:function(){var t=r(i.default.mark(function t(){var e,n,a,s,o=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={},e.page=this.recommendDatas.page||1,e.recommend=1,e.timestamp=this.recommendDatas.timestamp||parseInt(Date.now()/100),t.next=6,this.$store.dispatch("postListGet",e);case 6:n=t.sent,0==n.code&&(a=n.data,this.recommendDatas.page=a.page+1,this.recommendDatas.count=a.count,this.recommendDatas.timestamp=a.timestamp,s=a.rows,s.forEach(function(t){o.recommendDatas.list.push(t)}));case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goToDetail:function(t){uni.navigateTo({url:"/pagesPost/posts/detail?id="+t.id})}}};e.default=l},"11af":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"uni-page-body"},[t.recommendDatas&&t.recommendDatas.list?n("v-uni-view",{},t._l(t.recommendDatas.list,function(e,i){return n("v-uni-view",{key:i,staticClass:"uni-bg-white uni-border-top"},[n("v-uni-view",{staticClass:"uni-flex uni-bg-white uni-common-pa uni-left",on:{click:function(n){n=t.$handleEvent(n),t.goToDetail(e)}}},[n("v-uni-view",{staticClass:"post-list-cover"},[n("v-uni-image",{staticClass:"post-list-cover",attrs:{"lazy-load":"true",src:e.cover,mode:"scaleToFill"}})],1),n("v-uni-view",{staticClass:"uni-flex-item uni-common-pl post-list-content"},[n("v-uni-view",{staticClass:"uni-ellipsis-2 uni-left uni-bold title"},[t._v(t._s(e.title))]),n("v-uni-view",{staticClass:"uni-text-gray uni-text-small  uni-flex"},[n("v-uni-view",{staticClass:"time"},[t._v(t._s(e.publish_time))]),n("v-uni-view",{staticClass:"uni-flex-item recommend-type-inline uni-right"},[n("v-uni-view",{},[1==e.type?n("v-uni-text",{staticClass:"recommend-type type-1"},[t._v("资讯")]):t._e(),1==e.type?n("v-uni-text",{staticClass:"recommend-type-triangle type-1"}):t._e()],1),n("v-uni-view",{},[2==e.type?n("v-uni-text",{staticClass:"recommend-type type-2"},[t._v("品牌")]):t._e(),2==e.type?n("v-uni-text",{staticClass:"recommend-type-triangle type-2"}):t._e()],1)],1)],1),n("v-uni-view",{staticClass:"uni-text-gray uni-flex icon-items"},[n("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[n("v-uni-image",{staticStyle:{width:"36upx",height:"36upx"},attrs:{"lazy-load":"true",src:"/static/icon/posts/eye.png",mode:""}})],1),n("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[n("v-uni-text",[t._v(t._s(e.views))])],1),n("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[n("v-uni-image",{staticStyle:{width:"36upx",height:"36upx",display:"inline-block"},attrs:{"lazy-load":"true",src:"/static/icon/posts/zan.png",mode:""}})],1),n("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[n("v-uni-text",[t._v(t._s(e.likes))])],1),n("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[n("v-uni-image",{staticStyle:{width:"36upx",height:"36upx",display:"inline-block"},attrs:{"lazy-load":"true",src:"/static/icon/posts/share.png",mode:""}})],1),n("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[n("v-uni-text",[t._v(t._s(e.shares))])],1)],1)],1)],1)],1)})):t._e(),t.showLoadMore?n("v-uni-view",{staticClass:"uni-loadmore"},[t._v(t._s(t.loadMoreText))]):t._e()],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},"27f2":function(t,e,n){var i=n("985d");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("8a44aee2",i,!0,{sourceMap:!1,shadowMode:!1})},"6f4b":function(t,e,n){"use strict";n.r(e);var i=n("10f7"),a=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,function(){return i[t]})}(s);e["default"]=a.a},8268:function(t,e,n){"use strict";n.r(e);var i=n("11af"),a=n("6f4b");for(var s in a)"default"!==s&&function(t){n.d(e,t,function(){return a[t]})}(s);n("a34a6");var o=n("2877"),r=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"4c1282b6",null);e["default"]=r.exports},"985d":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".recommend-type-inline[data-v-4c1282b6]{display:inline-block;line-height:%?36?%;height:%?36?%}.recommend-type[data-v-4c1282b6]{display:inline-block;line-height:%?36?%;color:#fff;padding:0 %?30?%;border-radius:%?4?%;font-size:%?24?%}.recommend-type.type-1[data-v-4c1282b6]{background:#d81e06}.recommend-type.type-2[data-v-4c1282b6]{background:#09bb07}.recommend-type-triangle[data-v-4c1282b6]{\n /*  width: 0;\n  height: 0;\n  border-top: 18upx solid transparent;\n  border-left: 18upx solid #d81e06;\n  border-bottom: 18upx solid transparent;\n  display: inline-block;\n  line-height: 36upx; */\n  /* margin-top: 10upx; */}",""])},a34a6:function(t,e,n){"use strict";var i=n("27f2"),a=n.n(i);a.a}}]);