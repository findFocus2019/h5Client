(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesUser1-user-brandApply"],{"1eab":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{type:String,color:String,size:[Number,String]},computed:{fontSize:function(){return"".concat(this.size,"px")}},methods:{onClick:function(){this.$emit("click")}}};t.default=n},2399:function(e,t,r){"use strict";r.r(t);var n=r("6e33"),a=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,function(){return n[e]})}(i);t["default"]=a.a},"2a71":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"page"},[r("v-uni-view",{staticClass:"uni-border-top"},[r("v-uni-view",{staticClass:"uni-flex uni-common-pa uni-bg-white uni-border-bottom"},[r("v-uni-view",{staticClass:"uni-text-dark input-label"},[e._v("联系人")]),r("v-uni-view",{staticClass:"uni-flex-item"},[r("v-uni-input",{attrs:{type:"text",placeholder:"姓名"},model:{value:e.postData.name,callback:function(t){e.$set(e.postData,"name",t)},expression:"postData.name"}})],1)],1),r("v-uni-view",{staticClass:"uni-flex uni-common-pa uni-bg-white uni-border-bottom"},[r("v-uni-view",{staticClass:"uni-text-dark input-label"},[e._v("联系方式")]),r("v-uni-view",{staticClass:"uni-flex-item"},[r("v-uni-input",{attrs:{type:"text",placeholder:"电话号码"},model:{value:e.postData.mobile,callback:function(t){e.$set(e.postData,"mobile",t)},expression:"postData.mobile"}})],1)],1),r("v-uni-view",{staticClass:"uni-flex uni-common-pa uni-bg-white uni-border-bottom"},[r("v-uni-view",{staticClass:"uni-text-dark input-label"},[e._v("品牌名称")]),r("v-uni-view",{staticClass:"uni-flex-item"},[r("v-uni-input",{attrs:{type:"text",placeholder:"品牌名称"},model:{value:e.postData.title,callback:function(t){e.$set(e.postData,"title",t)},expression:"postData.title"}})],1)],1),r("v-uni-view",{staticClass:"uni-flex uni-common-pa uni-bg-white uni-border-bottom"},[r("v-uni-view",{staticClass:"uni-text-dark input-label"},[e._v("详细说明")]),r("v-uni-view",{staticClass:"uni-flex-item"},[r("v-uni-textarea",{staticStyle:{width:"500upx"},attrs:{type:"text",placeholder:"详细说明不能为空","auto-height":"true"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)],1)],1),r("v-uni-view",{staticClass:"uni-common-pa"},[0==e.applyData.id?r("v-uni-button",{staticClass:"uni-border-btn-radius",attrs:{type:"warn",formType:"submit"},on:{click:function(t){t=e.$handleEvent(t),e.formSubmit(t)}}},[e._v("提交")]):r("v-uni-view",{staticClass:"uni-center uni-common-pa"},[1==e.applyData.status?r("v-uni-view",{},[e._v("已提交")]):e._e(),-1==e.applyData.status?r("v-uni-view",{},[e._v("审核不通过")]):e._e()],1)],1)],1)},a=[];r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a})},3656:function(e,t,r){"use strict";r.r(t);var n=r("2a71"),a=r("2399");for(var i in a)"default"!==i&&function(e){r.d(t,e,function(){return a[e]})}(i);var s=r("2877"),u=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,"4ed4d09e",null);t["default"]=u.exports},"63c7":function(e,t,r){"use strict";r.r(t);var n=r("1eab"),a=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,function(){return n[e]})}(i);t["default"]=a.a},"6e33":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r("a34a")),a=r("2f62"),i=s(r("7efa"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,a,i,s){try{var u=e[i](s),o=u.value}catch(c){return void r(c)}u.done?t(o):Promise.resolve(o).then(n,a)}function o(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(e){u(i,n,a,s,o,"next",e)}function o(e){u(i,n,a,s,o,"throw",e)}s(void 0)})}}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){l(e,t,r[t])})}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=r("a763"),p={components:{uniIcon:i.default},data:function(){return{postData:{name:"",mobile:"",title:""},remark:"",rules:[{name:"name",checkType:"string",checkRule:"1,64",errorMsg:"姓名不能为空"},{name:"mobile",checkType:"phoneno",checkRule:"",errorMsg:"请输入正确的手机号码"},{name:"title",checkType:"string",checkRule:"1,64",errorMsg:"品牌名称不能为空"}],applyData:{id:0}}},computed:c({},(0,a.mapState)(["hasLogin","brandApplyInfo"])),methods:c({},(0,a.mapActions)(["goToLoginPage"]),{formSubmit:function(){var e=o(n.default.mark(function e(){var t,r,a,i;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.postData,r=f.check(t,this.rules),r){e.next=5;break}return uni.showToast({title:f.error,icon:"none"}),e.abrupt("return");case 5:return a={},a.info=t,a.remark=this.remark,a.type=2,e.next=11,this.$store.dispatch("userApplyAction",a);case 11:if(i=e.sent,0!=i.code){e.next=17;break}return e.next=15,this.getApplyData();case 15:e.next=18;break;case 17:uni.showToast({icon:"none",title:i.message});case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getApplyData:function(){var e=o(n.default.mark(function e(){var t,r;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("userApplyInfoGet",{type:2});case 2:t=e.sent,console.log("userApplyInfoGet ret ",JSON.stringify(t)),0==t.code&&t.data&&(this.applyData.id=t.data.id||0,this.applyData.status=t.data.status,r=t.data.info,this.postData.name=r.name,this.postData.mobile=r.mobile,this.postData.title=r.title,this.remark=t.data.remark);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),onLoad:function(e){this.hasLogin?this.getApplyData():this.goToLoginPage()}};t.default=p},"7efa":function(e,t,r){"use strict";r.r(t);var n=r("fde5"),a=r("63c7");for(var i in a)"default"!==i&&function(e){r.d(t,e,function(){return a[e]})}(i);var s=r("2877"),u=Object(s["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=u.exports},a763:function(e,t,r){"use strict";e.exports={error:"",check:function(e,t){for(var r=0;r<t.length;r++){if(!t[r].checkType)return!0;if(!t[r].name)return!0;if(!t[r].errorMsg)return!0;if(!e[t[r].name])return this.error=t[r].errorMsg,!1;switch(t[r].checkType){case"string":var n=new RegExp("^.{"+t[r].checkRule+"}$");if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"int":n=new RegExp("^(-[1-9]|[1-9])[0-9]{"+t[r].checkRule+"}$");if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"between":if(!this.isNumber(e[t[r].name]))return this.error=t[r].errorMsg,!1;var a=t[r].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[r].name]>a[1]||e[t[r].name]<a[0])return this.error=t[r].errorMsg,!1;break;case"betweenD":n=/^-?[1-9][0-9]?$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;a=t[r].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[r].name]>a[1]||e[t[r].name]<a[0])return this.error=t[r].errorMsg,!1;break;case"betweenF":n=/^-?[0-9][0-9]?.+[0-9]+$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;a=t[r].checkRule.split(",");if(a[0]=Number(a[0]),a[1]=Number(a[1]),e[t[r].name]>a[1]||e[t[r].name]<a[0])return this.error=t[r].errorMsg,!1;break;case"same":if(e[t[r].name]!=t[r].checkRule)return this.error=t[r].errorMsg,!1;break;case"notsame":if(e[t[r].name]==t[r].checkRule)return this.error=t[r].errorMsg,!1;break;case"email":n=/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"phoneno":n=/^1[0-9]{10,10}$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"zipcode":n=/^[0-9]{6}$/;if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"reg":n=new RegExp(t[r].checkRule);if(!n.test(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"in":if(-1==t[r].checkRule.indexOf(e[t[r].name]))return this.error=t[r].errorMsg,!1;break;case"notnull":if(null==e[t[r].name]||e[t[r].name].length<1)return this.error=t[r].errorMsg,!1;break}}return!0},isNumber:function(e){var t=/^-?[1-9][0-9]?.?[0-9]*$/;return t.test(e)}}},fde5:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-uni-view",{staticClass:"uni-icon",class:["uni-icon-"+e.type],style:{color:e.color,"font-size":e.fontSize},on:{click:function(t){t=e.$handleEvent(t),e.onClick()}}})},a=[];r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a})}}]);