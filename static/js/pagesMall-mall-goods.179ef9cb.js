(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesMall-mall-goods"],{"09bc":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"uni-mask",style:{top:t.offsetTop+"px"},on:{click:function(e){e=t.$handleEvent(e),t.hide(e)}}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["uni-popup","uni-popup-"+t.type]},[t._v(t._s(t.msg)),t._t("default")],2)],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},"2f28":function(t,e,i){"use strict";i.r(e);var n=i("c984"),o=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=o.a},"3e22":function(t,e,i){"use strict";i.r(e);var n=i("fec9"),o=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=o.a},"3f0f":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".score-show[data-v-6a930c89]{position:fixed;width:80%;left:10%;bottom:%?100?%;z-index:1000;background:rgba(0,0,0,.6);border-radius:%?8?%;line-height:%?80?%;text-align:center;color:#fff}",""])},4024:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"score-show"},[i("v-uni-text",[t._v(t._s(t.info))])],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},4421:function(t,e,i){var n=i("9f41");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("3fa8d60a",n,!0,{sourceMap:!1,shadowMode:!1})},4935:function(t,e,i){"use strict";var n=i("cd74"),o=i.n(n);o.a},"525e":function(t,e,i){"use strict";i.r(e);var n=i("d2cc"),o=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=o.a},"579b":function(t,e,i){"use strict";i.r(e);var n=i("cf7e"),o=i("e744");for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);i("d86c");var r=i("2877"),a=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"57873077",null);e["default"]=a.exports},"5baf":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".uni-mask[data-v-4f136e98]{position:fixed;z-index:998;top:0;right:0;bottom:0;left:0;background-color:rgba(0,0,0,.3)}.uni-popup[data-v-4f136e98]{position:absolute;z-index:999;background-color:#fff;-webkit-box-shadow:0 0 %?30?% rgba(0,0,0,.1);box-shadow:0 0 %?30?% rgba(0,0,0,.1)}.uni-popup-middle[data-v-4f136e98]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;width:%?380?%;height:%?380?%;border-radius:%?10?%;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;padding:%?30?%}.uni-popup-top[data-v-4f136e98]{top:0;left:0;width:100%;height:%?100?%;line-height:%?100?%;text-align:center}.uni-popup-bottom[data-v-4f136e98]{left:0;bottom:0;width:100%;min-height:%?100?%;line-height:%?100?%;text-align:center}",""])},"600b":function(t,e,i){"use strict";var n=i("c9e9"),o=i.n(n);o.a},"67ab3":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".segmented-control[data-v-7050bdfb]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:75%;font-size:%?28?%;border-radius:%?10?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 auto;overflow:hidden}.segmented-control.button[data-v-7050bdfb]{border:%?2?% solid}.segmented-control.text[data-v-7050bdfb]{border:0;border-radius:%?0?%}.segmented-control-item[data-v-7050bdfb]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;line-height:%?80?%;-webkit-box-sizing:border-box;box-sizing:border-box}.segmented-control-item.button[data-v-7050bdfb]{border-left:%?1?% solid}.segmented-control-item.text[data-v-7050bdfb]{border-left:0}.segmented-control-item[data-v-7050bdfb]:first-child{border-left-width:0}",""])},"784d":function(t,e,i){"use strict";i.r(e);var n=i("4024"),o=i("2f28");for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);i("600b");var r=i("2877"),a=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"6a930c89",null);e["default"]=a.exports},"7dce":function(t,e,i){var n=i("5baf");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("39ce243f",n,!0,{sourceMap:!1,shadowMode:!1})},"91c9":function(t,e,i){"use strict";i.r(e);var n=i("09bc"),o=i("3e22");for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);i("e580");var r=i("2877"),a=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"4f136e98",null);e["default"]=a.exports},"9f41":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".img-view[data-v-57873077],uni-image[data-v-57873077],uni-swiper[data-v-57873077]{width:100%;height:%?700?%}.goods-info-price uni-text[data-v-57873077]{line-height:%?60?%}.content[data-v-57873077]{min-height:%?1000?%;padding-bottom:%?120?%}.goods-info-toolbar[data-v-57873077]{position:fixed;bottom:0;width:100%;height:%?100?%;background:#fff}.goods-info-toolbar uni-text[data-v-57873077]{line-height:%?100?%}.segmented-control[data-v-57873077]{width:100%}.cart-icon[data-v-57873077]{position:fixed;right:%?10?%;z-index:1000;width:%?60?%;height:%?60?%;border-radius:%?40?%;opacity:.7;background:#000;padding:%?10?%}.cart-icon.top[data-v-57873077]{top:%?10?%}.cart-icon.bottom[data-v-57873077]{bottom:%?110?%}.uni-popup-bottom[data-v-57873077]{position:fixed}",""])},aca0:function(t,e,i){"use strict";i.r(e);var n=i("b530"),o=i("525e");for(var s in o)"default"!==s&&function(t){i.d(e,t,function(){return o[t]})}(s);i("4935");var r=i("2877"),a=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,"7050bdfb",null);e["default"]=a.exports},b3f3:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){function t(){n(this,t)}return s(t,[{key:"qq",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;uni.share({provider:"qq",type:0,title:t.title,summary:t.description,href:t.href,imageUrl:t.imgUrl,success:function(t){console.log("success:"+JSON.stringify(t)),e&&e()},fail:function(t){console.log("fail:"+JSON.stringify(t))}})}},{key:"wx",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;uni.share({provider:"weixin",scene:0==e?"WXSceneSession":"WXSenceTimeline",type:0,title:t.title,summary:t.description,href:t.href,imageUrl:t.imgUrl,success:function(t){console.log("success:"+JSON.stringify(t)),i&&i()},fail:function(t){console.log("fail:"+JSON.stringify(t))}})}},{key:"mini",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.log("mini data：",JSON.stringify(t)),uni.share({provider:"weixin",scene:"WXSceneSession",type:5,title:t.title,summary:t.description,href:t.href,imageUrl:t.imgUrl,miniProgram:{id:t.miniAppId,path:t.miniPage,type:0,webUrl:t.href},success:function(t){console.log("success:"+JSON.stringify(t)),e&&e()},fail:function(t){console.log("fail:"+JSON.stringify(t))}})}}]),t}(),a=new r;e.default=a},b530:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"segmented-control",class:t.styleType,style:t.wrapStyle},t._l(t.values,function(e,n){return i("v-uni-view",{key:n,staticClass:"segmented-control-item",class:t.styleType,style:n===t.currentIndex?t.activeStyle:t.itemStyle,on:{click:function(e){e=t.$handleEvent(e),t.onClick(n)}}},[t._v(t._s(e))])}),1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},bdd2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=h(i("a34a")),o=i("2f62"),s=h(i("b3f3")),r=h(i("7efa")),a=h(i("91c9")),u=h(i("23c67")),c=h(i("aca0")),l=h(i("0264")),d=h(i("ec9c")),f=h(i("89f3")),p=h(i("784d")),v=h(i("bbf7"));function h(t){return t&&t.__esModule?t:{default:t}}function m(t,e,i,n,o,s,r){try{var a=t[s](r),u=a.value}catch(c){return void i(c)}a.done?e(u):Promise.resolve(u).then(n,o)}function g(t){return function(){var e=this,i=arguments;return new Promise(function(n,o){var s=t.apply(e,i);function r(t){m(s,n,o,r,a,"next",t)}function a(t){m(s,n,o,r,a,"throw",t)}r(void 0)})}}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){x(t,e,i[e])})}return t}function x(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var w={components:{uniSegmentedControl:c.default,uniIcon:r.default,uniPopup:a.default,uniNumberBox:u.default,uniNavBar:d.default,scoreShow:p.default,money:f.default,userAddress:l.default},data:function(){return{items:["商品介绍","规格参数","售后保障"],current:0,imgUrls:[],showPopupBottom:!1,cartAddNum:1,addType:0,scoreInfo:"",priceExpress:0,goodsRate:{list:[],count:0,page:1},levels:[1,2,3,4,5]}},computed:b({},(0,o.mapState)(["hasLogin","userInfo","mallGoodsInfo",,"miniAppId","miniAppOrId","webDomain","userAddressCurrent","userAddressList"]),{shareId:function(){return this.$store.state.inviteShareId},postId:function(){return this.$store.state.invitePostId},goodsInfoStock:function(){var t=this.$store.state.mallGoodsInfo.stock||0;return-1==t?1e8:t}}),methods:b({},(0,o.mapActions)(["goCart","goToLoginPage","callServicePhone"]),{goBack:function(){uni.navigateBack({delta:1})},scoreShowPop:function(t){var e=this;this.scoreInfo=t,setTimeout(function(){e.scoreInfo=""},3e3)},preImg:function(t,e){uni.previewImage({urls:t,current:e,indicator:"number"})},onClickItem:function(t){console.log(t),this.current=t},hidePopup:function(){this.showPopupBottom=!1},cartAdd:function(){this.addType=0,this.showPopupBottom=!0},readyToBuy:function(){this.hasLogin?(this.addType=1,this.showPopupBottom=!0):uni.navigateTo({url:"/pages/auth/login"})},cartNumChange:function(t){this.cartAddNum=t.val},cartAddConfirm:function(){var t=g(n.default.mark(function t(){var e,i,o,s,r;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e={},i=this.mallGoodsInfo,i){t.next=5;break}return uni.showToast({icon:"none",title:"添加购物车失败"}),t.abrupt("return");case 5:if(e.id=i.id,e.title=i.title,e.cover=i.cover,e.type=i.type,e.price_sell=i.price_sell,e.price_vip=i.price_vip,e.price_score_sell=i.price_score_sell,e.price_score_vip=i.price_score_vip,e.price_cost=i.price_cost,e.price_market=i.price_market,e.check=!1,e.share_id=this.shareId,e.post_id=this.postId,e.uuid=i.uuid,e.price_express=0,console.log("cartAddConfirm item =======",e),o=this.cartAddNum,2!=i.type){t.next=29;break}return t.next=25,this.getStockJd(i.uuid,o);case 25:if(s=t.sent,s){t.next=29;break}return uni.showToast({icon:"none",title:"京选商品库存不足"}),t.abrupt("return");case 29:if(!(o<=0)){t.next=32;break}return uni.showToast({icon:"none",title:"请选择商品数量"}),t.abrupt("return");case 32:if(0!=this.addType){t.next=37;break}v.default.plus(e,this.cartAddNum),uni.showToast({title:"添加购物车成功"}),t.next=54;break;case 37:if(1!=this.addType){t.next=54;break}if(2!=i.type){t.next=45;break}return t.next=41,this.getFeight(this.cartAddNum);case 41:if(console.log("this.priceExpress",this.priceExpress),""!==this.priceExpress){t.next=45;break}return uni.showToast({title:"京选商品运费获取失败，稍后重试",icon:"none",duration:2e3}),t.abrupt("return");case 45:e.num=this.cartAddNum,console.log("立即购买 item:",JSON.stringify(e)),this.$store.state.cartListBuyItem=e,this.$store.state.mallOrderConfirm.invoice=0,this.$store.state.mallOrderConfirm.priceExpress=this.priceExpress,uni.showLoading({title:"提交中..."}),r="/pagesMall/mall/cartConfirm?type=1",2==i.type&&(r+="&jdOrder=1"),setTimeout(function(){uni.navigateTo({url:r}),uni.hideLoading()},1e3);case 54:this.showPopupBottom=!1;case 55:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),collectionAction:function(){var t=g(n.default.mark(function t(){var e,i,o;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.hasLogin){t.next=3;break}return this.goToLoginPage(),t.abrupt("return");case 3:return console.log("postCollection"),e={category:"goods",type:0,goods_id:this.mallGoodsInfo.id},uni.showLoading({mask:!0,title:"提交中..."}),t.next=8,this.$store.dispatch("userCollectionAction",e);case 8:i=t.sent,uni.hideLoading(),0==i.code?(uni.showToast({title:i.message,icon:"success"}),i.data&&(o=i.data.score||0,o&&this.scoreShowPop("收藏商品获得"+i.data.score+"积分")),this.$store.dispatch("getGoodsInfo",{id:this.mallGoodsInfo.id})):uni.showToast({title:i.message,icon:"none"});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),goodsShare:function(){var t=g(n.default.mark(function t(){var e,i,o,r,a,u,c,l;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return uni.navigateTo({url:"/pages/auth/guide"}),t.abrupt("return");case 5:return e=0,i={},i.category="goods",i.post_id=0,i.goods_id=this.mallGoodsInfo.id||0,t.next=12,this.$store.dispatch("userShareInfoGet",i);case 12:if(o=t.sent,0!=o.code){t.next=18;break}r=o.data.info,e=r.id,t.next=20;break;case 18:return uni.showToast({icon:"none",title:"分享发生错误，请稍后重试"}),t.abrupt("return");case 20:a="pagesMall/mall/goods",a=a+"?id="+this.mallGoodsInfo.id+"&puid="+this.userInfo.user_id+"&share_id="+e,u=this.webDomain+"/"+a,console.log("分享 ：",u),c=this.mallGoodsInfo.cover,2!=this.mallGoodsInfo.type&&(c+="!goodsCover"),l={title:this.mallGoodsInfo.title,description:this.mallGoodsInfo.description,href:u,imgUrl:c,miniAppId:this.miniAppOrId,miniPage:a},console.log("shareData:",JSON.stringify(l)),uni.showActionSheet({itemList:["分享给QQ好友","分享到微信朋友圈","分享到微信好友"],success:function(t){var e=t.tapIndex;0==e?s.default.qq(l):1==e?s.default.wx(l,1):2==e&&s.default.mini(l,0)}});case 29:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getAlbums:function(){var t=g(n.default.mark(function t(e){var i,o,s=this;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("getAlbums",{type:"goods",type_id:e});case 2:i=t.sent,console.log("albumsRet =========:"+JSON.stringify(i)),0==i.code&&(this.imgUrls=[],o=i.data.rows||[],o.forEach(function(t){s.imgUrls.push(t.img)}));case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getStockJd:function(){var t=g(n.default.mark(function t(e,i){var o,s,r,a,u,c,l;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(o=this.userAddressCurrent,o.id){t.next=3;break}return t.abrupt("return",!1);case 3:return s=[o.province,o.city,o.county,o.town],r=s.join("_"),a=JSON.stringify([{skuId:e,num:i}]),t.next=8,this.$store.dispatch("getJdGoodsStock",{skuNums:a,area:r});case 8:if(u=t.sent,console.log("getJdGoodsStock ret:"+JSON.stringify(u)),0!=u.code){t.next=18;break}if(c=u.data,l=0,c.forEach(function(t){t.skuId==e&&(l=t.stockStateId)}),33==l){t.next=16;break}return t.abrupt("return",!1);case 16:t.next=19;break;case 18:return t.abrupt("return",!1);case 19:return t.abrupt("return",!0);case 20:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),getFeight:function(){var t=g(n.default.mark(function t(e){var i,o,s,r;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(i=this.userAddressCurrent,i.id){t.next=4;break}return this.priceExpress="",t.abrupt("return");case 4:return o=[],s=this.mallGoodsInfo,o.push({skuId:s.uuid,num:e}),t.next=9,this.$store.dispatch("getJdFreight",{sku:JSON.stringify(o),province:i.province,city:i.city,county:i.county,town:i.town||0});case 9:r=t.sent,console.log("getJdFreight ret",r),0==r.code?this.priceExpress=r.data.freight:this.priceExpress="";case 12:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()}),onLoad:function(){var t=g(n.default.mark(function t(e){var i,o,s,r,a;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("onLoad======================="),console.log("opt:"+JSON.stringify(e)),i=e.id,this.$store.state.mallGoodsInfo={},t.next=6,this.getAlbums(i);case 6:return o=e.share_id||0,s=e.post_id||0,o&&(this.$store.state.inviteShareId=o),s&&(this.$store.state.invitePostId=s),t.next=12,this.$store.dispatch("getGoodsInfo",{id:i,share_id:o});case 12:return r=e.puid||0,r&&(this.$store.state.inviteUserId=r),console.log("mallGoodsInfo",this.mallGoodsInfo),this.cartAddNum=this.goodsInfoStock>0?1:0,this.hasLogin&&!this.userAddressList.length&&this.$store.dispatch("userAddressGet"),console.log("userAddressCurrent",this.userAddressCurrent),t.next=20,this.$store.dispatch("mallGoodsRateList",{goods_id:i,limit:3});case 20:a=t.sent,console.log("goodsRatesRet",a),0==a.code&&(this.goodsRate={list:a.data.rows,count:a.data.count});case 23:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onShow:function(){var t=g(n.default.mark(function t(){var e;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("onShow======================="),!this.mallGoodsInfo.id){t.next=7;break}return t.next=4,this.$store.dispatch("getGoodsInfo",{id:this.mallGoodsInfo.id});case 4:e=t.sent,console.log("onShow getGoodsInfo ret ==============",JSON.stringify(e)),this.getAlbums(this.mallGoodsInfo.id);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onNavigationBarButtonTap:function(){this.goCart()}};e.default=w},c984:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{info:{type:String,default:""}}};e.default=n},c9e9:function(t,e,i){var n=i("3f0f");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("14cd5f7c",n,!0,{sourceMap:!1,shadowMode:!1})},cd74:function(t,e,i){var n=i("67ab3");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("37cd5a0f",n,!0,{sourceMap:!1,shadowMode:!1})},cf7e:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-page-body mall-goods-page uni-bg-white"},[i("uni-nav-bar",{attrs:{color:"#333333","background-color":"transparent",fixed:"true"},on:{"click-left":function(e){e=t.$handleEvent(e),t.goBack(e)},"click-right":function(e){e=t.$handleEvent(e),t.goCart(e)}}},[i("template",{attrs:{slot:"left"},slot:"left"},[i("v-uni-view",{staticClass:"uni-common-pl"},[i("uni-icon",{staticStyle:{background:"rgba(0,0,0,0.6)","border-radius":"100%"},attrs:{type:"back",size:"22",color:"#666666"}})],1)],1),i("template",{attrs:{slot:"right"},slot:"right"},[i("v-uni-view",{staticClass:"uni-common-pl uni-common-pr"},[i("v-uni-image",{staticStyle:{width:"48upx",height:"48upx"},attrs:{"lazy-load":"true",src:"/static/icon/mall/cart.png",mode:"widthFix"}})],1)],1)],2),t.imgUrls.length?i("v-uni-swiper",{attrs:{"indicator-dots":"true"}},t._l(t.imgUrls,function(t,e){return i("v-uni-swiper-item",{key:e},[i("v-uni-image",{staticStyle:{height:"750upx"},attrs:{"lazy-load":"true",src:t}})],1)}),1):i("v-uni-view",{},[i("v-uni-image",{staticStyle:{width:"100%"},attrs:{src:t.mallGoodsInfo.cover,mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"uni-common-pa uni-bg-white"},[i("v-uni-view",{staticClass:"uni-text-dark uni-h4"},[t._v(t._s(t.mallGoodsInfo.title))]),i("v-uni-view",{staticClass:"uni-flex goods-info-price"},[i("v-uni-view",{},[i("v-uni-text",{staticClass:"uni-text-small"},[t._v("优惠价:")]),i("v-uni-view",{staticClass:"uni-text-red uni-inline-block"},[i("money",{attrs:{num:t.mallGoodsInfo.price_sell,size:"30"}})],1)],1),i("v-uni-view",{staticClass:"uni-text-gray uni-common-pl",staticStyle:{"text-decoration":"line-through"}},[i("v-uni-text",{staticClass:"uni-text-small"},[t._v("原价:")]),i("money",{attrs:{num:t.mallGoodsInfo.price}})],1),i("v-uni-view",{staticClass:"uni-text-light uni-common-pl"},[i("v-uni-text",{staticClass:"uni-text-small"},[t._v("积分可抵扣:")]),i("money",{attrs:{num:t.mallGoodsInfo.price_score_sell}})],1)],1),i("v-uni-view",{},[i("v-uni-text",{staticClass:"uni-text-small"},[t._v("VIP价:")]),i("v-uni-view",{staticClass:"uni-text-red uni-inline-block"},[i("money",{attrs:{num:t.mallGoodsInfo.price_vip,size:"30"}})],1),i("v-uni-text",{staticClass:"uni-text-small uni-common-ml-sm "},[t._v("积分可抵扣:")]),i("money",{attrs:{num:t.mallGoodsInfo.price_score_vip}})],1),i("v-uni-view",{staticClass:"uni-flex"},[i("v-uni-view",{staticClass:"uni-flex-item"},[i("v-uni-text",{staticClass:"uni-text-small uni-text-gray"},[t._v("已有"+t._s(t.mallGoodsInfo.sales)+"人付款")])],1),i("v-uni-view",{staticClass:"uni-flex-item uni-right"},[i("v-uni-text",{staticClass:"uni-text-small uni-text-gray"})],1)],1)],1),i("v-uni-view",{staticClass:"uni-common-mt uni-bg-white  uni-border-top"},[i("v-uni-view",{staticClass:"uni-common-pa uni-flex"},[i("v-uni-view",{staticClass:"uni-flex-item",staticStyle:{"padding-left":"10upx","border-left":"8upx #d81e06 solid"}},[t._v("评价")]),i("v-uni-view",{staticClass:"uni-flex-item"})],1),t._l(t.goodsRate.list,function(e,n){return i("v-uni-view",{key:n,staticClass:"uni-common-pa"},[i("v-uni-view",{staticClass:"uni-flex"},[i("v-uni-view",{staticStyle:{width:"60upx",height:"60upx"}},[i("v-uni-image",{staticStyle:{width:"60upx",height:"60upx","border-radius":"60upx"},attrs:{"lazy-load":"true",src:e.user_info.avatar,mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-pl uni-text-blue"},[i("v-uni-text",{},[t._v(t._s(e.user_info.nickname))])],1),i("v-uni-view",{staticClass:"uni-flex-item uni-text-gray uni-right"},[i("v-uni-text",{},[t._v(t._s(e.rate_date))])],1)],1),e.rate_level>0?i("v-uni-view",{staticClass:"uni-flex uni-common-mt "},t._l(t.levels,function(t,n){return i("v-uni-view",{key:n,staticClass:"uni-inline-block"},[t<=e.rate_level?i("v-uni-view",[i("v-uni-image",{staticStyle:{width:"40upx",height:"40upx","margin-right":"20upx"},attrs:{src:"/static/icon/user/start-a.png",mode:""}})],1):i("v-uni-view",[i("v-uni-image",{staticStyle:{width:"40upx",height:"40upx","margin-right":"20upx"},attrs:{src:"/static/icon/user/start.png",mode:""}})],1)],1)}),1):t._e(),i("v-uni-view",{staticClass:"uni-common-mt-sm"},[t._v(t._s(e.rate_info))]),e.rate_imgs.length?i("v-uni-view",{staticClass:"uni-common-mt uni-border-bottom"},t._l(e.rate_imgs,function(n,o){return i("v-uni-view",{key:o,staticClass:"uni-common-pr",staticStyle:{display:"inline-block",width:"100upx",height:"100upx"},on:{click:function(i){i=t.$handleEvent(i),t.preImg(e.rate_imgs,n)}}},[i("v-uni-image",{staticStyle:{width:"100upx",height:"100upx","border-radius":"4upx",border:"1px solid #EEEEEE"},attrs:{"lazy-load":"true",src:n,mode:"scaleToFill"}})],1)}),1):t._e()],1)}),t.goodsRate.count>3?i("v-uni-view",{staticClass:"uni-center"},[i("v-uni-navigator",{attrs:{url:"/pagesMall/mall/goodsRates?goods_id="+t.mallGoodsInfo.id}},[t._v("更多评论")])],1):t._e(),0==t.goodsRate.count?i("v-uni-view",{staticClass:"uni-center"},[t._v("暂无评价")]):t._e()],2),i("v-uni-view",{staticClass:"uni-common-mt uni-bg-white  uni-border-top"},[i("v-uni-view",{staticClass:"uni-border-bottom"},[i("uni-segmented-control",{attrs:{current:t.current,values:t.items,styleType:"text",activeColor:"#d81e06"},on:{clickItem:function(e){e=t.$handleEvent(e),t.onClickItem(e)}}})],1),i("v-uni-view",{staticClass:"content uni-common-mt uni-common-pa"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}]},[t.mallGoodsInfo.content?i("v-uni-rich-text",{attrs:{nodes:t.mallGoodsInfo.content}}):t._e()],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}]},[t.mallGoodsInfo.img_1?i("v-uni-view",{},[i("v-uni-image",{staticStyle:{width:"100%"},attrs:{"lazy-load":"true",src:t.mallGoodsInfo.img_1,mode:"widthFix"}})],1):t._e()],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:2===t.current,expression:"current === 2"}]},[t.mallGoodsInfo.img_2?i("v-uni-view",{},[i("v-uni-image",{staticStyle:{width:"100%"},attrs:{"lazy-load":"true",src:t.mallGoodsInfo.img_2,mode:"widthFix"}})],1):t._e()],1)],1)],1),i("v-uni-view",{staticClass:"goods-info-toolbar uni-flex uni-center uni-border-top"},[i("v-uni-view",{staticClass:"uni-flex-item uni-text-light",on:{click:function(e){e=t.$handleEvent(e),t.callServicePhone(e)}}},[i("v-uni-view",{staticStyle:{height:"50upx","line-height":"50upx"}},[i("uni-icon",{attrs:{type:"phone",size:"24"}})],1),i("v-uni-view",{staticStyle:{height:"50upx","line-height":"50upx"}},[t._v("客服")])],1),i("v-uni-view",{staticClass:"uni-flex-item uni-text-light",on:{click:function(e){e=t.$handleEvent(e),t.collectionAction(e)}}},[i("v-uni-view",{staticStyle:{height:"50upx","line-height":"50upx"}},[1==t.mallGoodsInfo.isCollection?i("uni-icon",{attrs:{type:"star-filled",size:"24",color:"#d81e06"}}):i("uni-icon",{attrs:{type:"star",size:"24"}})],1),i("v-uni-view",{staticStyle:{height:"50upx","line-height":"50upx"}},[t._v("收藏")])],1),i("v-uni-view",{staticClass:"uni-flex-item uni-text-light",on:{click:function(e){e=t.$handleEvent(e),t.goodsShare(e)}}},[i("v-uni-view",{staticStyle:{height:"50upx","line-height":"50upx"}},[i("v-uni-image",{staticStyle:{width:"40upx",height:"40upx","margin-top":"10upx"},attrs:{src:"/static/icon/posts/share.png",mode:""}})],1),i("v-uni-view",{staticStyle:{height:"50upx","line-height":"50upx"}},[t._v("分享")])],1),i("v-uni-view",{staticClass:"uni-bg-yellow uni-text-light",staticStyle:{width:"200upx"},on:{click:function(e){e=t.$handleEvent(e),t.cartAdd(e)}}},[i("v-uni-text",[t._v("加入购物车")])],1),i("v-uni-view",{staticClass:" uni-bg-red",staticStyle:{width:"200upx"},on:{click:function(e){e=t.$handleEvent(e),t.readyToBuy(e)}}},[i("v-uni-text",[t._v("立即购买")])],1)],1),i("uni-popup",{attrs:{show:t.showPopupBottom,type:"bottom",msg:"选择"},on:{hidePopup:function(e){e=t.$handleEvent(e),t.hidePopup(e)}}},[2==t.mallGoodsInfo.type?i("v-uni-view",{staticClass:"uni-left"},[t.userAddressCurrent.id?i("user-address",{attrs:{address:t.userAddressCurrent}}):i("user-address")],1):t._e(),i("v-uni-view",{staticClass:"uni-flex uni-common-pa uni-left uni-border-top uni-border-bottom"},[i("v-uni-view",{staticStyle:{width:"200upx"}},[i("v-uni-image",{staticStyle:{width:"200upx",height:"200upx"},attrs:{"lazy-load":"true",src:t.mallGoodsInfo.cover,mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-pl"},[i("v-uni-view",{staticClass:"uni-text-dark uni-h4 uni-ellipsis",staticStyle:{width:"430upx","line-height":"50upx"}},[t._v(t._s(t.mallGoodsInfo.title))]),i("v-uni-view",{},[i("v-uni-view",{staticClass:"uni-text-red"},[i("money",{attrs:{num:t.mallGoodsInfo.price_sell,size:"36"}}),i("v-uni-view",{staticClass:"uni-text-small uni-text-gray uni-common-ml-sm uni-inline-block"},[t._v("积分可抵扣:"),i("money",{attrs:{num:t.mallGoodsInfo.price_score_sell}})],1)],1),i("v-uni-view",{staticClass:"uni-text-red"},[i("v-uni-image",{staticStyle:{width:"30upx",height:"30upx"},attrs:{src:"/static/icon/mall/vip.png",mode:""}}),i("money",{attrs:{num:t.mallGoodsInfo.price_vip,size:"30"}}),i("v-uni-view",{staticClass:"uni-text-small uni-text-gray uni-common-ml-sm uni-inline-block"},[t._v("积分可抵扣:"),i("money",{attrs:{num:t.mallGoodsInfo.price_score_vip}})],1),i("v-uni-text",{staticClass:"uni-text-small uni-text-dark"})],1)],1)],1)],1),i("v-uni-view",{staticClass:"uni-input-row uni-border-bottom"},[i("v-uni-label",[t._v("默认")]),i("uni-number-box",{attrs:{min:0,max:t.goodsInfoStock,value:t.cartAddNum,disabled:!0},on:{change:function(e){e=t.$handleEvent(e),t.cartNumChange(e)}}})],1),i("v-uni-view",{staticClass:"uni-common-pa"},[0!=t.goodsInfoStock?i("v-uni-button",{staticClass:"uni-border-btn-radius",attrs:{type:"warn"},on:{click:function(e){e=t.$handleEvent(e),t.cartAddConfirm(e)}}},[t._v("确定")]):i("v-uni-view",{staticClass:"uni-bg-gray uni-border-btn-radius uni-common-pt uni-common-pb"},[t._v("无库存")])],1)],1),i("score-show",{attrs:{info:t.scoreInfo}})],1)},o=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return o})},d2cc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"segmented-control",props:{current:{type:Number,default:0},values:{type:Array,default:function(){return[]}},activeColor:{type:String,default:"#007aff"},styleType:{type:String,default:"button"}},data:function(){return{currentIndex:this.current}},watch:{current:function(t){t!==this.currentIndex&&(this.currentIndex=t)}},computed:{wrapStyle:function(){var t="";switch(this.styleType){case"text":t="border:0;";break;default:t="border-color: ".concat(this.activeColor);break}return t},itemStyle:function(){var t="";switch(this.styleType){case"text":t="color:#000;border-left:0;";break;default:t="color:".concat(this.activeColor,";border-color:").concat(this.activeColor,";");break}return t},activeStyle:function(){var t="";switch(this.styleType){case"text":t="color:".concat(this.activeColor,";border-left:0;border-bottom-style:solid;");break;default:t="color:#fff;border-color:".concat(this.activeColor,";background-color:").concat(this.activeColor);break}return t}},methods:{onClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("clickItem",t))}}};e.default=n},d86c:function(t,e,i){"use strict";var n=i("4421"),o=i.n(n);o.a},e580:function(t,e,i){"use strict";var n=i("7dce"),o=i.n(n);o.a},e744:function(t,e,i){"use strict";i.r(e);var n=i("bdd2"),o=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);e["default"]=o.a},fec9:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{show:{type:Boolean,default:!1},type:{type:String,default:"middle"},msg:{type:String,default:""}},data:function(){var t=0;return t=44,{offsetTop:t}},methods:{hide:function(){this.$emit("hidePopup")}}};e.default=n}}]);