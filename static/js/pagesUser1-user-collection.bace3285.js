(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesUser1-user-collection"],{"1aad":function(t,e,i){"use strict";i.r(e);var n=i("8b99"),s=i("7e77");for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);i("3442");var a=i("2877"),u=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"38404998",null);e["default"]=u.exports},"1eab":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{type:String,color:String,size:[Number,String]},computed:{fontSize:function(){return"".concat(this.size,"px")}},methods:{onClick:function(){this.$emit("click")}}};e.default=n},3442:function(t,e,i){"use strict";var n=i("eb4e"),s=i.n(n);s.a},4935:function(t,e,i){"use strict";var n=i("cd74"),s=i.n(n);s.a},"525e":function(t,e,i){"use strict";i.r(e);var n=i("d2cc"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=s.a},"63c7":function(t,e,i){"use strict";i.r(e);var n=i("1eab"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=s.a},"67ab3":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".segmented-control[data-v-7050bdfb]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;width:75%;font-size:%?28?%;border-radius:%?10?%;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 auto;overflow:hidden}.segmented-control.button[data-v-7050bdfb]{border:%?2?% solid}.segmented-control.text[data-v-7050bdfb]{border:0;border-radius:%?0?%}.segmented-control-item[data-v-7050bdfb]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;text-align:center;line-height:%?80?%;-webkit-box-sizing:border-box;box-sizing:border-box}.segmented-control-item.button[data-v-7050bdfb]{border-left:%?1?% solid}.segmented-control-item.text[data-v-7050bdfb]{border-left:0}.segmented-control-item[data-v-7050bdfb]:first-child{border-left-width:0}",""])},"7e77":function(t,e,i){"use strict";i.r(e);var n=i("821f"),s=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);e["default"]=s.a},"7efa":function(t,e,i){"use strict";i.r(e);var n=i("fde5"),s=i("63c7");for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);var a=i("2877"),u=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,null,null);e["default"]=u.exports},"821f":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("a34a")),s=a(i("aca0")),o=a(i("7efa"));function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e,i,n,s,o,a){try{var u=t[o](a),l=u.value}catch(c){return void i(c)}u.done?e(l):Promise.resolve(l).then(n,s)}function l(t){return function(){var e=this,i=arguments;return new Promise(function(n,s){var o=t.apply(e,i);function a(t){u(o,n,s,a,l,"next",t)}function l(t){u(o,n,s,a,l,"throw",t)}a(void 0)})}}var c={components:{uniSegmentedControl:s.default,uniIcon:o.default},data:function(){return{current:0,type:0,category:"goods",types:[{category:"goods",type:0,name:"产品"},{category:"posts",type:1,name:"新闻"},{category:"posts",type:2,name:"故事"},{category:"posts",type:3,name:"评测"}],listDataGoods:{page:1,count:0,list:[]},listDataPosts:[{},{page:1,count:0,list:[]},{page:1,count:0,list:[]},{page:1,count:0,list:[]}],showLoadMore:!1,loadMoreText:"加载中..."}},methods:{changeType:function(){var t=l(n.default.mark(function t(e,i){var s;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(this.current),this.current=i,this.type=e.type,this.category=e.category,s=0,s="posts"==this.category?this.listDataPosts[this.type].list?this.listDataPosts[this.type].list.length:0:this.listDataGoods.list?this.listDataGoods.list.length:0,s){t.next=9;break}return t.next=9,this.getData();case 9:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),getData:function(){var t=l(n.default.mark(function t(){var e,i,s,o,a,u,l=this;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=1,i=this.category,s=this.type,e="posts"==i?this.listDataPosts[s].page:this.listDataGoods.page,o={page:e,category:this.category,type:this.type},t.next=7,this.$store.dispatch("userCollectionListGet",o);case 7:return a=t.sent,console.log("userCollectionListGet ret",JSON.stringify(a)),0==a.code&&("posts"==i?(this.listDataPosts[s].page+=1,this.listDataPosts[s].count=a.data.count):(this.listDataGoods.page+=1,this.listDataGoods.count=a.data.count),u=a.data.rows,0==u.length&&(this.loadMoreText="无更多..."),"posts"==i?u.forEach(function(t){l.listDataPosts[s].list.push(t)}):u.forEach(function(t){l.listDataGoods.list.push(t)})),t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),refresh:function(){var t=l(n.default.mark(function t(){var e,i;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.category,i=this.type,"posts"==e?(this.listDataPosts[i].page=1,this.listDataPosts[i].count=0,this.listDataPosts[i].list=[]):(this.listDataGoods.page=1,this.listDataGoods.count=0,this.listDataGoods.list=[]),t.next=5,this.getData();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),delCollectionTap:function(t){var e=this,i=t.item,n=t.i;console.log("delCollection",i,n),uni.showModal({title:"确认",content:"删除收藏?",success:function(t){console.log("success res"),t.confirm?(console.log("用户点击确定"),e.delCollectionAction(i,n)):t.cancel&&console.log("用户点击取消")},fail:function(){console.log("fail")}})},delCollectionAction:function(){var t=l(n.default.mark(function t(e,i){var s,o;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$store.state.hasLogin){t.next=3;break}return uni.navigateTo({url:"/pages/auth/login"}),t.abrupt("return");case 3:return console.log("postCollection"),s={category:this.category,type:this.type},"posts"==this.category?s.post_id=e.post_id:s.goods_id=e.goods_id,uni.showLoading({mask:!0,title:"提交中..."}),t.next=9,this.$store.dispatch("userCollectionAction",s);case 9:o=t.sent,uni.hideLoading(),console.log("userCollectionAction ==========",o),0==o.code?"posts"==this.category?this.listDataPosts[this.type].list.splice(i,1):this.listDataGoods.list.splice(i,1):uni.showToast({title:o.message,icon:"none"});case 13:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}(),goToDetail:function(){var t=l(n.default.mark(function t(e,i){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:"goods"==i?uni.navigateTo({url:"/pagesMall/mall/goods?id="+e.goods_id}):"posts"==i&&uni.navigateTo({url:"/pagesPost/posts/detail?id="+e.post_id});case 1:case"end":return t.stop()}},t,this)}));function e(e,i){return t.apply(this,arguments)}return e}()},onLoad:function(){this.getData()},onPullDownRefresh:function(){var t=l(n.default.mark(function t(){return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.refresh();case 2:uni.stopPullDownRefresh();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onReachBottom:function(){var t=l(n.default.mark(function t(){var e=this;return n.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.showLoadMore=!0,t.next=3,this.getData();case 3:setTimeout(function(){e.showLoadMore=!1},1e3);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()};e.default=c},"8b99":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-page-body"},[i("v-uni-view",{staticClass:"uni-common-pa uni-bg-white uni-border-top"},[i("v-uni-view",{staticClass:"uni-common-pl uni-common-pr uni-flex uni-center"},t._l(t.types,function(e,n){return i("v-uni-view",{key:n,staticClass:"uni-flex-item",on:{click:function(i){i=t.$handleEvent(i),t.changeType(e,n)}}},[t.category==e.category&&e.type==t.type?i("v-uni-text",{staticClass:"uni-bold uni-text-red"},[t._v(t._s(e.name))]):i("v-uni-text",[t._v(t._s(e.name))])],1)}))],1),i("v-uni-view",{},[i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}]},[t._l(t.listDataGoods.list,function(e,n){return i("v-uni-view",{key:n,staticClass:"uni-common-pa uni-common-mt-md uni-bg-white uni-flex"},[i("v-uni-view",{staticClass:"goods-list-cover-md",on:{click:function(i){i=t.$handleEvent(i),t.goToDetail(e,"goods")}}},[i("v-uni-image",{staticClass:"goods-list-cover-md",attrs:{"lazy-load":"true",src:e.info.cover,mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-pl"},[i("v-uni-view",{staticClass:"list-title",on:{click:function(i){i=t.$handleEvent(i),t.goToDetail(e,"goods")}}},[t._v(t._s(e.info.title))]),i("v-uni-view",{staticClass:"uni-text-small uni-text-gray",on:{click:function(i){i=t.$handleEvent(i),t.goToDetail(e,"goods")}}},[t._v("积分可抵扣 ￥"+t._s(e.info.score))]),i("v-uni-view",{staticClass:"uni-flex"},[i("v-uni-view",{staticClass:"uni-flex-item uni-bold uni-text-red"},[t._v("￥ "+t._s(e.info.price))]),i("v-uni-view",{staticClass:"uni-flex-item uni-right",on:{click:function(i){i=t.$handleEvent(i),t.delCollectionTap({item:e,i:n})}}},[i("v-uni-text",{staticClass:"uni-text-small uni-text-gray"},[t._v("删除")])],1)],1)],1)],1)}),0==t.listDataGoods.count?i("v-uni-view",{staticClass:"uni-center uni-common-pa"},[t._v("无数据")]):t._e()],2),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}]},[t._l(t.listDataPosts[t.current].list,function(e,n){return i("v-uni-view",{key:n,staticClass:"uni-common-pa uni-common-mt-md uni-bg-white uni-flex"},[i("v-uni-view",{staticClass:"post-list-cover",on:{click:function(i){i=t.$handleEvent(i),t.goToDetail(e,"posts")}}},[i("v-uni-image",{staticClass:"post-list-cover",attrs:{"lazy-load":"true",src:e.info.cover,mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-pl post-list-content"},[i("v-uni-view",{staticClass:"title",on:{click:function(i){i=t.$handleEvent(i),t.goToDetail(e,"posts")}}},[t._v(t._s(e.info.title))]),i("v-uni-view",{staticClass:"uni-text-small uni-text-gray time"},[t._v(t._s(e.info.pub_date))]),i("v-uni-view",{staticClass:"uni-flex icon-items uni-text-gray"},[i("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[i("v-uni-image",{staticStyle:{width:"36upx",height:"36upx"},attrs:{"lazy-load":"true",src:"/static/icon/posts/eye.png",mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[i("v-uni-text",[t._v(t._s(e.info.views))])],1),i("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[i("v-uni-image",{staticStyle:{width:"36upx",height:"36upx",display:"inline-block"},attrs:{"lazy-load":"true",src:"/static/icon/posts/zan.png",mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[i("v-uni-text",[t._v(t._s(e.info.likes))])],1),i("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[i("v-uni-image",{staticStyle:{width:"36upx",height:"36upx",display:"inline-block"},attrs:{"lazy-load":"true",src:"/static/icon/posts/share.png",mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[i("v-uni-text",[t._v(t._s(e.info.shares))])],1),i("v-uni-view",{staticClass:"uni-flex-item uni-right",on:{click:function(i){i=t.$handleEvent(i),t.delCollectionTap({item:e,i:n})}}},[i("v-uni-text",{staticClass:"uni-text-small uni-text-gray"},[t._v("删除")])],1)],1)],1)],1)}),0==t.listDataPosts[t.current].count?i("v-uni-view",{staticClass:"uni-center uni-common-pa"},[t._v("无数据")]):t._e()],2),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:2===t.current,expression:"current === 2"}]},[t._l(t.listDataPosts[t.current].list,function(e,n){return i("v-uni-view",{key:n,staticClass:"uni-common-pa uni-common-mt-md uni-bg-white uni-flex"},[i("v-uni-view",{staticClass:"post-list-cover",on:{click:function(i){i=t.$handleEvent(i),t.goToDetail(e,"posts")}}},[i("v-uni-image",{staticClass:"post-list-cover",attrs:{"lazy-load":"true",src:e.info.cover,mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-pl post-list-content"},[i("v-uni-view",{staticClass:"title",on:{click:function(i){i=t.$handleEvent(i),t.goToDetail(e,"posts")}}},[t._v(t._s(e.info.title))]),i("v-uni-view",{staticClass:"uni-text-small uni-text-gray time"},[t._v(t._s(e.info.pub_date))]),i("v-uni-view",{staticClass:"uni-flex icon-items uni-text-gray"},[i("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[i("v-uni-image",{staticStyle:{width:"36upx",height:"36upx"},attrs:{"lazy-load":"true",src:"/static/icon/posts/eye.png",mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[i("v-uni-text",[t._v(t._s(e.info.views))])],1),i("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[i("v-uni-image",{staticStyle:{width:"36upx",height:"36upx",display:"inline-block"},attrs:{"lazy-load":"true",src:"/static/icon/posts/zan.png",mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[i("v-uni-text",[t._v(t._s(e.info.likes))])],1),i("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[i("v-uni-image",{staticStyle:{width:"36upx",height:"36upx",display:"inline-block"},attrs:{"lazy-load":"true",src:"/static/icon/posts/share.png",mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[i("v-uni-text",[t._v(t._s(e.info.shares))])],1),i("v-uni-view",{staticClass:"uni-flex-item uni-right",on:{click:function(i){i=t.$handleEvent(i),t.delCollectionTap({item:e,i:n})}}},[i("v-uni-text",{staticClass:"uni-text-small uni-text-gray"},[t._v("删除")])],1)],1)],1)],1)}),0==t.listDataPosts[t.current].count?i("v-uni-view",{staticClass:"uni-center uni-common-pa"},[t._v("无数据")]):t._e()],2),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:3===t.current,expression:"current === 3"}]},[t._l(t.listDataPosts[t.current].list,function(e,n){return i("v-uni-view",{key:n,staticClass:"uni-common-pa uni-common-mt-md uni-bg-white uni-flex"},[i("v-uni-view",{staticClass:"post-list-cover",on:{click:function(i){i=t.$handleEvent(i),t.goToDetail(e,"posts")}}},[i("v-uni-image",{staticClass:"post-list-cover",attrs:{"lazy-load":"true",src:e.info.cover,mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-pl post-list-content"},[i("v-uni-view",{staticClass:"title",on:{click:function(i){i=t.$handleEvent(i),t.goToDetail(e,"posts")}}},[t._v(t._s(e.info.title))]),i("v-uni-view",{staticClass:"uni-text-small uni-text-gray time"},[t._v(t._s(e.info.pub_date))]),i("v-uni-view",{staticClass:"uni-flex icon-items uni-text-gray"},[i("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[i("v-uni-image",{staticStyle:{width:"36upx",height:"36upx"},attrs:{"lazy-load":"true",src:"/static/icon/posts/eye.png",mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[i("v-uni-text",[t._v(t._s(e.info.views))])],1),i("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[i("v-uni-image",{staticStyle:{width:"36upx",height:"36upx",display:"inline-block"},attrs:{"lazy-load":"true",src:"/static/icon/posts/zan.png",mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[i("v-uni-text",[t._v(t._s(e.info.likes))])],1),i("v-uni-view",{staticStyle:{width:"36upx",height:"36upx","padding-top":"6upx"}},[i("v-uni-image",{staticStyle:{width:"36upx",height:"36upx",display:"inline-block"},attrs:{"lazy-load":"true",src:"/static/icon/posts/share.png",mode:""}})],1),i("v-uni-view",{staticClass:"uni-flex-item uni-common-ml-sm"},[i("v-uni-text",[t._v(t._s(e.info.shares))])],1),i("v-uni-view",{staticClass:"uni-flex-item uni-right",on:{click:function(i){i=t.$handleEvent(i),t.delCollectionTap({item:e,i:n})}}},[i("v-uni-text",{staticClass:"uni-text-small uni-text-gray"},[t._v("删除")])],1)],1)],1)],1)}),0==t.listDataPosts[t.current].count?i("v-uni-view",{staticClass:"uni-center uni-common-pa"},[t._v("无数据")]):t._e()],2)],1)],1),t.showLoadMore?i("v-uni-view",{staticClass:"uni-loadmore"},[t._v(t._s(t.loadMoreText))]):t._e()],1)},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},9451:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".list-title[data-v-38404998]{height:%?100?%;word-break:break-all;display:-webkit-box;overflow:hidden;line-height:%?50?%;-o-text-overflow:ellipsis;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}",""])},aca0:function(t,e,i){"use strict";i.r(e);var n=i("b530"),s=i("525e");for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);i("4935");var a=i("2877"),u=Object(a["a"])(s["default"],n["a"],n["b"],!1,null,"7050bdfb",null);e["default"]=u.exports},b530:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"segmented-control",class:t.styleType,style:t.wrapStyle},t._l(t.values,function(e,n){return i("v-uni-view",{key:n,staticClass:"segmented-control-item",class:t.styleType,style:n===t.currentIndex?t.activeStyle:t.itemStyle,on:{click:function(e){e=t.$handleEvent(e),t.onClick(n)}}},[t._v(t._s(e))])}))},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})},cd74:function(t,e,i){var n=i("67ab3");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("37cd5a0f",n,!0,{sourceMap:!1,shadowMode:!1})},d2cc:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"segmented-control",props:{current:{type:Number,default:0},values:{type:Array,default:function(){return[]}},activeColor:{type:String,default:"#007aff"},styleType:{type:String,default:"button"}},data:function(){return{currentIndex:this.current}},watch:{current:function(t){t!==this.currentIndex&&(this.currentIndex=t)}},computed:{wrapStyle:function(){var t="";switch(this.styleType){case"text":t="border:0;";break;default:t="border-color: ".concat(this.activeColor);break}return t},itemStyle:function(){var t="";switch(this.styleType){case"text":t="color:#000;border-left:0;";break;default:t="color:".concat(this.activeColor,";border-color:").concat(this.activeColor,";");break}return t},activeStyle:function(){var t="";switch(this.styleType){case"text":t="color:".concat(this.activeColor,";border-left:0;border-bottom-style:solid;");break;default:t="color:#fff;border-color:".concat(this.activeColor,";background-color:").concat(this.activeColor);break}return t}},methods:{onClick:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.$emit("clickItem",t))}}};e.default=n},eb4e:function(t,e,i){var n=i("9451");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=i("4f06").default;s("d49aec5a",n,!0,{sourceMap:!1,shadowMode:!1})},fde5:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-icon",class:["uni-icon-"+t.type],style:{color:t.color,"font-size":t.fontSize},on:{click:function(e){e=t.$handleEvent(e),t.onClick()}}})},s=[];i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s})}}]);