(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-main-search"],{"241d":function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=o(n("a34a")),s=o(n("ec9c")),a=o(n("7efa"));n("2f62");function o(t){return t&&t.__esModule?t:{default:t}}function c(t,i,n,e,s,a,o){try{var c=t[a](o),r=c.value}catch(u){return void n(u)}c.done?i(r):Promise.resolve(r).then(e,s)}function r(t){return function(){var i=this,n=arguments;return new Promise(function(e,s){var a=t.apply(i,n);function o(t){c(a,e,s,o,r,"next",t)}function r(t){c(a,e,s,o,r,"throw",t)}o(void 0)})}}var u={components:{uniNavBar:s.default,uniIcon:a.default},data:function(){return{mainSearchText:"",postsList1:[],postsList2:[],goods:[]}},computed:{},methods:{back:function(){uni.navigateBack({delta:1})},cancel:function(){this.mainSearchText="",uni.navigateBack({delta:1})},goToDetailPosts:function(t){uni.navigateTo({url:"/pagesPost/posts/detail?id="+t.id})},goToDetailGoods:function(t){uni.navigateTo({url:"/pagesMall/mall/goods?id="+t.id})},confirm:function(){var t=r(e.default.mark(function t(){var i,n,s;return e.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.mainSearchText){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.$store.dispatch("searchPosts",{type:2,keyword:this.mainSearchText});case 4:return i=t.sent,console.log("searchPosts ret",i),0==i.code&&i.data.rows.length?this.postsList1=i.data.rows:this.postsList1=[],t.next=9,this.$store.dispatch("searchPosts",{type:1,keyword:this.mainSearchText});case 9:return n=t.sent,console.log("searchPosts ret",n),0==n.code&&n.data.rows.length?this.postsList2=n.data.rows:this.postsList2=[],t.next=14,this.$store.dispatch("searchGoods",{keyword:this.mainSearchText});case 14:s=t.sent,console.log("searchPosts ret",s),0==s.code&&s.data.rows.length?this.goods=s.data.rows:this.goods=[];case 17:case"end":return t.stop()}},t,this)}));function i(){return t.apply(this,arguments)}return i}()}};i.default=u},"5a35":function(t,i,n){"use strict";var e=n("647d"),s=n.n(e);s.a},"647d":function(t,i,n){var e=n("87b8");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=n("4f06").default;s("2414bfbe",e,!0,{sourceMap:!1,shadowMode:!1})},"80fc":function(t,i,n){"use strict";var e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"uni-page-body uni-bg-white"},[n("uni-nav-bar",{attrs:{color:"#333333","background-color":"#ffffff",fixed:"true"},on:{"click-left":function(i){i=t.$handleEvent(i),t.back(i)},"click-right":function(i){i=t.$handleEvent(i),t.cancel(i)}}},[n("template",{attrs:{slot:"left"},slot:"left"},[n("v-uni-view",{staticClass:"uni-common-pl"},[n("uni-icon",{attrs:{type:"back",size:"22",color:"#666666"}})],1)],1),n("v-uni-view",{staticClass:"input-view uni-flex uni-bg-gray ",staticStyle:{"border-radius":"30upx"}},[n("uni-icon",{attrs:{type:"search",size:"22",color:"#666666"}}),n("v-uni-input",{staticClass:"input uni-flex-item",attrs:{"confirm-type":"search",type:"text",placeholder:"输入搜索关键词"},on:{confirm:function(i){i=t.$handleEvent(i),t.confirm(i)}},model:{value:t.mainSearchText,callback:function(i){t.mainSearchText=i},expression:"mainSearchText"}}),n("uni-icon",{attrs:{type:"clear",size:"22",color:"#666666"},on:{click:function(i){i=t.$handleEvent(i),t.cancel(i)}}})],1),n("template",{attrs:{slot:"right"},slot:"right"},[n("v-uni-view",{staticClass:"uni-common-pr"},[t._v("取消")])],1)],2),n("v-uni-view",{staticStyle:{height:"150upx"}}),n("v-uni-view",{staticClass:"uni-common-pa"},[t.postsList1.length?n("v-uni-view",{staticClass:"uni-common-mb uni-common-pb uni-border-bottom"},[n("v-uni-view",{staticClass:"uni-bold"},[t._v("品牌故事")]),n("v-uni-view",{},t._l(t.postsList1,function(i,e){return n("v-uni-view",{key:e,staticClass:"uni-inline-block uni-bg-gray uni-ellipsis search-item xl",on:{click:function(n){n=t.$handleEvent(n),t.goToDetailPosts(i)}}},[t._v(t._s(i.title))])}))],1):t._e(),t.postsList2.length?n("v-uni-view",{staticClass:"uni-common-mb uni-common-pb uni-border-bottom"},[n("v-uni-view",{staticClass:"uni-bold"},[t._v("新闻资讯")]),n("v-uni-view",{},t._l(t.postsList2,function(i,e){return n("v-uni-view",{key:e,staticClass:"uni-inline-block uni-bg-gray uni-ellipsis search-item xl",on:{click:function(n){n=t.$handleEvent(n),t.goToDetailPosts(i)}}},[t._v(t._s(i.title))])}))],1):t._e(),t.goods.length?n("v-uni-view",{staticClass:"uni-common-mb uni-common-pb uni-border-bottom"},[n("v-uni-view",{staticClass:"uni-bold"},[t._v("产品")]),n("v-uni-view",{},t._l(t.goods,function(i,e){return n("v-uni-view",{key:e,staticClass:"uni-inline-block uni-bg-gray uni-ellipsis search-item",on:{click:function(n){n=t.$handleEvent(n),t.goToDetailGoods(i)}}},[t._v(t._s(i.title))])}))],1):t._e()],1)],1)},s=[];n.d(i,"a",function(){return e}),n.d(i,"b",function(){return s})},"87b8":function(t,i,n){i=t.exports=n("2350")(!1),i.push([t.i,".search-item[data-v-91a7e27c]{width:%?150?%;height:%?60?%;line-height:%?60?%;margin-right:%?20?%;margin-top:%?10?%;border-radius:%?30?%;padding:0 %?30?%}.search-item.xl[data-v-91a7e27c]{width:%?260?%}",""])},"98fa":function(t,i,n){"use strict";n.r(i);var e=n("241d"),s=n.n(e);for(var a in e)"default"!==a&&function(t){n.d(i,t,function(){return e[t]})}(a);i["default"]=s.a},d904:function(t,i,n){"use strict";n.r(i);var e=n("80fc"),s=n("98fa");for(var a in s)"default"!==a&&function(t){n.d(i,t,function(){return s[t]})}(a);n("5a35");var o=n("2877"),c=Object(o["a"])(s["default"],e["a"],e["b"],!1,null,"91a7e27c",null);i["default"]=c.exports}}]);