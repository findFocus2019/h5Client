(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesUser-user-assetsOut"],{"0eea":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={props:{num:{type:Number,default:0},size:{type:String,default:"24"},nums:{type:Array,default:function(){return[]}}},data:function(){return{money:0}},methods:{formatNum:function(){if(this.num||0===this.num||"0"===this.num){var t=this.num.toString();console.log(t);var n=t.split(".");1==n.length?this.money="￥"+t+".00":(this.money="￥"+n[0]+".",1==n[1].length?this.money+=n[1]+"0":this.money+=n[1])}},formatNums:function(){if(this.nums.length){var t=0;this.nums.forEach(function(n){t+=parseInt(100*n)});var n=t/100;n=n.toString(),console.log(n);var e=n.split(".");1==e.length?this.money="￥"+n+".00":(this.money="￥"+e[0]+".",1==e[1].length?this.money+=e[1]+"0":this.money+=e[1])}}},created:function(){this.formatNum(),this.formatNums()},watch:{num:function(t,n){console.log("newVal",t),this.formatNum()},nums:function(t,n){this.formatNums()}}};n.default=i},"1de4":function(t,n,e){"use strict";e.r(n);var i=e("870f"),u=e("f7b5");for(var o in u)"default"!==o&&function(t){e.d(n,t,function(){return u[t]})}(o);var a=e("2877"),s=Object(a["a"])(u["default"],i["a"],i["b"],!1,null,"17f3f454",null);n["default"]=s.exports},"1eab":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={props:{type:String,color:String,size:[Number,String]},computed:{fontSize:function(){return"".concat(this.size,"px")}},methods:{onClick:function(){this.$emit("click")}}};n.default=i},"5b6a":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticStyle:{display:"inline"}},[e("v-uni-text",{style:{fontSize:t.size/2+"px"}},[t._v(t._s(t.money))])],1)},u=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return u})},"63c7":function(t,n,e){"use strict";e.r(n);var i=e("1eab"),u=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=u.a},"7efa":function(t,n,e){"use strict";e.r(n);var i=e("fde5"),u=e("63c7");for(var o in u)"default"!==o&&function(t){e.d(n,t,function(){return u[t]})}(o);var a=e("2877"),s=Object(a["a"])(u["default"],i["a"],i["b"],!1,null,null,null);n["default"]=s.exports},"870f":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"uni-page-body uni-bg-white"},[e("v-uni-view",{staticClass:"uni-flex uni-common-pa uni-border-top"},[e("v-uni-view",{staticClass:"uni-bold"},[t._v("可提取金额")]),e("v-uni-view",{staticClass:"uni-flex-item uni-right uni-text-red uni-bold"},[e("money",{attrs:{num:t.userInfo.balance,size:"28"}})],1)],1),e("v-uni-view",{staticClass:"uni-flex uni-common-pa uni-border-top"},[e("v-uni-view",{staticClass:"uni-bold"},[t._v("不可提取金额")]),e("v-uni-view",{staticClass:"uni-flex-item uni-right uni-text-gray uni-bold"},[e("money",{attrs:{num:t.forzenNum,size:"28"}})],1)],1),t.userInfo.balance>10?e("v-uni-view",{},[e("v-uni-view",{staticClass:"uni-flex uni-common-pa uni-border-top"},[e("v-uni-view",{},[t._v("提取方式")]),e("v-uni-view",{staticClass:"uni-flex-item uni-right",on:{click:function(n){n=t.$handleEvent(n),t.chooseMethod(n)}}},[t.method?e("v-uni-text",{staticClass:"uni-text-gray"},[t._v(t._s(t.methodVals[t.method]))]):t._e(),e("uni-icon",{attrs:{type:"arrowright",size:"20"}})],1)],1),e("v-uni-view",{staticClass:"uni-flex uni-common-pa uni-border-top uni-border-bottom"},[e("v-uni-view",{},[t._v("金额")]),e("v-uni-view",{staticClass:"uni-flex-item uni-right"},[e("v-uni-input",{attrs:{type:"number",placeholder:t.userInfo.balance.toString()},on:{input:function(n){n=t.$handleEvent(n),t.balanceInput(n)}},model:{value:t.balance,callback:function(n){t.balance=n},expression:"balance"}})],1)],1),e("v-uni-view",{staticClass:"uni-common-mt-sm uni-common-pl uni-common-pr uni-right ",on:{click:function(n){n=t.$handleEvent(n),t.balanceAll(n)}}},[t._v("全部提取")]),e("v-uni-view",{staticClass:"uni-common-pa ",on:{click:function(n){n=t.$handleEvent(n),t.checkClick(n)}}},[t.checked?e("uni-icon",{attrs:{type:"checkbox-filled",size:"20",color:"#d81e06"}}):e("uni-icon",{attrs:{type:"circle",size:"20"}}),e("v-uni-text",[t._v("我已认真阅读并同意")]),e("v-uni-text",{},[t._v("《用户提现协议》")])],1),e("v-uni-view",{staticClass:"uni-common-pa uni-common-mt",on:{click:function(n){n=t.$handleEvent(n),t.confirm(n)}}},[e("v-uni-button",{staticClass:"uni-border-btn-radius",attrs:{type:"warn",loading:t.btn.loading,disabled:t.btn.disabled}},[t._v("提现")])],1)],1):e("v-uni-view",{staticClass:"uni-center uni-text-gray uni-common-pa uni-common-mt"},[t._v("提现金额不足10元，无法提现")]),e("v-uni-view",{staticClass:"uni-common-pa uni-common-mt"},[e("v-uni-view",{staticClass:"uni-bold"},[t._v("注意事项")]),e("v-uni-view",{staticClass:"uni-text-light uni-common-mt-sm"},[e("v-uni-rich-text",{attrs:{nodes:t.noitceText}})],1)],1),e("v-uni-view",{staticClass:"uni-common-pa uni-center"},[e("v-uni-navigator",{attrs:{url:"/pagesUser/user/assetsOutLogs"}},[t._v("提现记录")])],1)],1)},u=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return u})},"89f3":function(t,n,e){"use strict";e.r(n);var i=e("5b6a"),u=e("d0f1");for(var o in u)"default"!==o&&function(t){e.d(n,t,function(){return u[t]})}(o);var a=e("2877"),s=Object(a["a"])(u["default"],i["a"],i["b"],!1,null,"78d59df4",null);n["default"]=s.exports},b56f:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("a34a")),u=e("2f62"),o=s(e("7efa")),a=s(e("89f3"));function s(t){return t&&t.__esModule?t:{default:t}}function r(t,n,e,i,u,o,a){try{var s=t[o](a),r=s.value}catch(c){return void e(c)}s.done?n(r):Promise.resolve(r).then(i,u)}function c(t){return function(){var n=this,e=arguments;return new Promise(function(i,u){var o=t.apply(n,e);function a(t){r(o,i,u,a,s,"next",t)}function s(t){r(o,i,u,a,s,"throw",t)}a(void 0)})}}function l(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},i=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.forEach(function(n){f(t,n,e[n])})}return t}function f(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var d={components:{uniIcon:o.default,money:a.default},data:function(){return{noitceText:"<p>1.xxxxxxxxxxxxxx</p><p>2.ppppppppppp</p>",methods:[],balance:0,method:"",methodVals:{wxpay:"微信支付",alipay:"支付宝"},checked:!1,btn:{disabled:!1,loading:!1},forzenNum:0}},computed:l({},(0,u.mapState)(["hasLogin","userInfo","isVip"])),methods:{confirm:function(){var t=c(i.default.mark(function t(){var n,e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.checked){t.next=2;break}return t.abrupt("return");case 2:if(this.method){t.next=5;break}return uni.showToast({icon:"none",title:"请选择提现方式"}),t.abrupt("return");case 5:if(this.balance&&!(this.balance<10)){t.next=8;break}return uni.showToast({icon:"none",title:"请输入正确提现金额"}),t.abrupt("return");case 8:return n={balance:this.balance,method:this.method},console.log("postData",JSON.stringify(n)),this.btn.loading=!0,this.btn.disabled=!0,t.next=14,this.$store.dispatch("userTransOut",n);case 14:e=t.sent,console.log("userTransOut ret",JSON.stringify(e)),this.btn.loading=!1,this.btn.disabled=!1,0==e.code?(uni.showToast({icon:"success",title:"提交成功"}),this.$store.dispatch("userInfoGet")):uni.showToast({icon:"none",title:"提交失败，"+e.message});case 19:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),balanceAll:function(){this.balance=this.userInfo.balance},balanceInput:function(t){t.detail.value>this.userInfo.balance&&(this.balance=this.userInfo.balance)},checkClick:function(){this.checked=!this.checked},chooseMethod:function(){var t=this;uni.showActionSheet({itemList:this.methods,success:function(n){var e=n.tapIndex;if(0==e){if(!t.userInfo.openid)return void uni.showToast({icon:"none",title:"请先设置支付宝账号",success:function(){uni.navigateTo({url:"/pagesUser/user/setting"})}});t.method="alipay"}}})}},onLoad:function(){var t=c(i.default.mark(function t(){var n,e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.hasLogin){t.next=5;break}return uni.navigateTo({url:"/pages/auth/login"}),t.abrupt("return");case 5:return t.next=7,this.$store.dispatch("userInfoGet");case 7:n=t.sent,0==n.code&&(this.forzenNum=n.data.balance_frozen);case 9:console.log("userInfo",JSON.stringify(this.userInfo)),e=this.userInfo.alipay,e?this.methods.push("支付宝"):this.methods.push("支付宝(未设置)");case 12:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}()};n.default=d},d0f1:function(t,n,e){"use strict";e.r(n);var i=e("0eea"),u=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=u.a},f7b5:function(t,n,e){"use strict";e.r(n);var i=e("b56f"),u=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=u.a},fde5:function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"uni-icon",class:["uni-icon-"+t.type],style:{color:t.color,"font-size":t.fontSize},on:{click:function(n){n=t.$handleEvent(n),t.onClick()}}})},u=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return u})}}]);