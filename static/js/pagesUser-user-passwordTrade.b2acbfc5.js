(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesUser-user-passwordTrade"],{"32b8":function(t,n,i){var e=i("d08f");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("077ad79a",e,!0,{sourceMap:!1,shadowMode:!1})},4835:function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",{staticClass:"uni-page-body uni-bg-white"},[i("v-uni-view",{staticClass:"uni-common-pa"},[i("v-uni-view",{staticClass:"uni-flex uni-border-bottom uni-form-item"},[i("v-uni-view",{staticClass:"uni-flex-item uni-column"},[i("v-uni-input",{staticClass:"uni-input",attrs:{type:"password",required:"",placeholder:"请输入验证码",maxlength:"4"},model:{value:t.postData.verify_code,callback:function(n){t.$set(t.postData,"verify_code",n)},expression:"postData.verify_code"}})],1),i("v-uni-view",{staticClass:"uni-common-pl uni-common-pr "},[i("v-uni-view",{staticClass:"uni-border-btn-radius uni-center btn-sms",on:{click:function(n){n=t.$handleEvent(n),t.smsSendClick(n)}}},[t._v(t._s(t.sms.text))])],1)],1),i("v-uni-view",{staticClass:"uni-text-gray uni-common-mt"},[t._v("设置支付密码需先进行手机验证，验证码发送至账号绑定手机")]),i("v-uni-view",{staticClass:"uni-common-mt"},[i("v-uni-button",{staticClass:"uni-border-btn-radius",attrs:{type:"warn"},on:{click:function(n){n=t.$handleEvent(n),t.showPasswordTrade(n)}}},[t._v("确认")])],1)],1),i("v-uni-view",{},[i("password-trade",{attrs:{title:t.passwordTradeSet.title,show:t.passwordTradeSet.show},on:{confirm:function(n){n=t.$handleEvent(n),t.confirm(n)},close:function(n){n=t.$handleEvent(n),t.passwordTradeSetClose(n)}}})],1)],1)},s=[];i.d(n,"a",function(){return e}),i.d(n,"b",function(){return s})},"51a7":function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={props:{show:{type:Boolean,default:!1},title:{type:String,default:""},description:{type:String,default:""}},data:function(){return{password:[]}},methods:{inputPassword:function(t){if(!(this.password.length>=6)){var n=this.password.join("").toString();if(n+=t,console.log("this.passwordNum",n),this.password=n.toString().split(""),6==this.password.length){var i=this.password.join("");console.log("emit confim",i),this.$emit("confirm",i)}}},delPassword:function(){this.password.splice(this.password.length-1,1)},close:function(){this.$emit("close")}},watch:{show:function(t,n){console.log("show ==========",t),this.password=[]}},mounted:function(){this.password=[]}};n.default=e},8220:function(t,n,i){n=t.exports=i("2350")(!1),n.push([t.i,".uni-password-trade[data-v-0448bfb8]{position:fixed;width:100%;height:100%;top:0;background:rgba(0,0,0,.5)}.password-trade-bg[data-v-0448bfb8]{position:relative;width:100%;height:100%}.text-nums[data-v-0448bfb8]{border:%?1?% solid #999;border-radius:%?8?%}.text-num[data-v-0448bfb8]{text-align:center;\n  /* background: #FFFFFF; */width:%?100?%;height:%?100?%;line-height:%?100?%;font-size:%?50?%}.text-num.border-right[data-v-0448bfb8]{border-right:%?1?% solid #999}.keyboard-nums[data-v-0448bfb8]{padding:%?8?%;position:fixed;width:100%;bottom:0}.keyboard-num[data-v-0448bfb8]{background:#fff;margin:%?8?%;height:%?120?%;line-height:%?120?%;font-size:%?40?%;font-weight:400;color:#333;border-radius:%?8?%}.keyboard-num.bg-none[data-v-0448bfb8]{background:none}.input-num[data-v-0448bfb8]{position:relative;top:%?-120?%;padding:%?20?% 0;width:100%;opacity:0}",""])},"8a9d":function(t,n,i){"use strict";i.r(n);var e=i("51a7"),s=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(n,t,function(){return e[t]})}(a);n["default"]=s.a},"8bc1":function(t,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o(i("a34a")),s=o(i("b8b1")),a=i("2f62");function o(t){return t&&t.__esModule?t:{default:t}}function u(t,n,i,e,s,a,o){try{var u=t[a](o),r=u.value}catch(c){return void i(c)}u.done?n(r):Promise.resolve(r).then(e,s)}function r(t){return function(){var n=this,i=arguments;return new Promise(function(e,s){var a=t.apply(n,i);function o(t){u(a,e,s,o,r,"next",t)}function r(t){u(a,e,s,o,r,"throw",t)}o(void 0)})}}function c(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},e=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.forEach(function(n){d(t,n,i[n])})}return t}function d(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}var l={components:{passwordTrade:s.default},data:function(){return{postData:{verify_code:"",password:""},sms:{text:"获取验证码",second:60,click:0},passwordTradeSet:{show:!1,title:"设置新的支付密码"}}},computed:c({},(0,a.mapState)(["hasLogin","userInfo"])),methods:{smsSendClick:function(){this.sms.click||this.smsSend()},smsSend:function(){var t=r(e.default.mark(function t(){var n,i=this;return e.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(60!=this.sms.second){t.next=7;break}return console.log("sms send ... ..."),this.sms.click=1,t.next=5,this.$store.dispatch("sendSmsCode",{mobile:this.userInfo.mobile});case 5:n=t.sent,0==n.code?uni.showToast({icon:"success",title:"验证码发送成功"}):uni.showToast({icon:"none",title:ret.message});case 7:0==this.sms.second?(this.sms.second=60,this.sms.text="发送",this.sms.click=0):(this.sms.text="("+this.sms.second--+"s)",console.log("sms send ... ...",this.sms.second),60!=this.sms.second&&setTimeout(function(){i.smsSend()},1e3));case 8:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),showPasswordTrade:function(){var t=this.postData.verify_code;console.log("code",t),4==t.length&&(this.passwordTradeSet.show=!0)},passwordTradeSetClose:function(){this.passwordTradeSet.show=!1},confirm:function(){var t=r(e.default.mark(function t(n){var i;return e.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.postData.password=n,t.next=3,this.$store.dispatch("userPasswordTradeSet",this.postData);case 3:i=t.sent,0==i.code?uni.showToast({icon:"success",title:"设置成功",success:function(){uni.navigateBack({delta:1})}}):uni.showToast({icon:"none",title:"设置失败，"+i.message});case 5:case"end":return t.stop()}},t,this)}));function n(n){return t.apply(this,arguments)}return n}()},onLoad:function(){this.hasLogin||uni.navigateTo({url:"/pages/auth/login"})}};n.default=l},a2ff:function(t,n,i){var e=i("8220");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("a5e956da",e,!0,{sourceMap:!1,shadowMode:!1})},b60d:function(t,n,i){"use strict";i.r(n);var e=i("8bc1"),s=i.n(e);for(var a in e)"default"!==a&&function(t){i.d(n,t,function(){return e[t]})}(a);n["default"]=s.a},b77f:function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("v-uni-view",{staticClass:"uni-password-trade",style:{display:t.show?"block":"none"}},[i("v-uni-view",{staticClass:"password-trade-bg",on:{click:function(n){n=t.$handleEvent(n),t.close(n)}}}),i("v-uni-view",{staticClass:"keyboard-nums uni-bg-gray uni-center"},[i("v-uni-view",{staticClass:"uni-center uni-common-mt uni-common-mb uni-common-pa"},[t.title?i("v-uni-view",{staticClass:"uni-h4"},[t._v(t._s(t.title))]):t._e(),t.description?i("v-uni-view",{},[i("v-uni-rich-text",{attrs:{nodes:t.description}})],1):t._e()],1),i("v-uni-view",{staticClass:"uni-common-pa uni-comment-mt"},[i("v-uni-view",{staticClass:"uni-common-pl uni-common-pr"},[i("v-uni-view",{staticClass:"text-nums uni-flex "},[i("v-uni-view",{staticClass:"text-num uni-flex-item border-right"},[void 0!==t.password[0]?i("v-uni-text",[t._v("*")]):t._e()],1),i("v-uni-view",{staticClass:"text-num uni-flex-item border-right"},[void 0!==t.password[1]?i("v-uni-text",[t._v("*")]):t._e()],1),i("v-uni-view",{staticClass:"text-num uni-flex-item border-right"},[void 0!==t.password[2]?i("v-uni-text",[t._v("*")]):t._e()],1),i("v-uni-view",{staticClass:"text-num uni-flex-item border-right"},[void 0!==t.password[3]?i("v-uni-text",[t._v("*")]):t._e()],1),i("v-uni-view",{staticClass:"text-num uni-flex-item border-right"},[void 0!==t.password[4]?i("v-uni-text",[t._v("*")]):t._e()],1),i("v-uni-view",{staticClass:"text-num uni-flex-item "},[void 0!==t.password[5]?i("v-uni-text",[t._v("*")]):t._e()],1)],1)],1)],1),i("v-uni-view",{staticClass:"uni-flex"},[i("v-uni-view",{staticClass:"uni-flex-item keyboard-num",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("1")}}},[t._v("1")]),i("v-uni-view",{staticClass:"uni-flex-item keyboard-num",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("2")}}},[t._v("2")]),i("v-uni-view",{staticClass:"uni-flex-item keyboard-num",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("3")}}},[t._v("3")])],1),i("v-uni-view",{staticClass:"uni-flex"},[i("v-uni-view",{staticClass:"uni-flex-item keyboard-num",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("4")}}},[t._v("4")]),i("v-uni-view",{staticClass:"uni-flex-item keyboard-num",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("5")}}},[t._v("5")]),i("v-uni-view",{staticClass:"uni-flex-item keyboard-num",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("6")}}},[t._v("6")])],1),i("v-uni-view",{staticClass:"uni-flex"},[i("v-uni-view",{staticClass:"uni-flex-item keyboard-num",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("7")}}},[t._v("7")]),i("v-uni-view",{staticClass:"uni-flex-item keyboard-num",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("8")}}},[t._v("8")]),i("v-uni-view",{staticClass:"uni-flex-item keyboard-num",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("9")}}},[t._v("9")])],1),i("v-uni-view",{staticClass:"uni-flex"},[i("v-uni-view",{staticClass:"uni-flex-item keyboard-num bg-none"}),i("v-uni-view",{staticClass:"uni-flex-item keyboard-num ",on:{click:function(n){n=t.$handleEvent(n),t.inputPassword("0")}}},[t._v("0")]),i("v-uni-view",{staticClass:"uni-flex-item keyboard-num bg-none",on:{click:function(n){n=t.$handleEvent(n),t.delPassword(n)}}},[i("v-uni-view",{staticClass:"uni-common-ml-sm"},[i("v-uni-image",{staticStyle:{width:"64upx",height:"48upx","margin-top":"16upx"},attrs:{"lazy-load":"true",src:"/static/icon/user/backspace.png",mode:"widthFix"}})],1)],1)],1)],1)],1)},s=[];i.d(n,"a",function(){return e}),i.d(n,"b",function(){return s})},b8b1:function(t,n,i){"use strict";i.r(n);var e=i("b77f"),s=i("8a9d");for(var a in s)"default"!==a&&function(t){i.d(n,t,function(){return s[t]})}(a);i("d1ca");var o=i("2877"),u=Object(o["a"])(s["default"],e["a"],e["b"],!1,null,"0448bfb8",null);n["default"]=u.exports},c426:function(t,n,i){"use strict";i.r(n);var e=i("4835"),s=i("b60d");for(var a in s)"default"!==a&&function(t){i.d(n,t,function(){return s[t]})}(a);i("f883");var o=i("2877"),u=Object(o["a"])(s["default"],e["a"],e["b"],!1,null,"68a7d4ac",null);n["default"]=u.exports},d08f:function(t,n,i){n=t.exports=i("2350")(!1),n.push([t.i,".fixed-bottom[data-v-68a7d4ac]{position:fixed;width:100%;bottom:0}.btn-sms[data-v-68a7d4ac]{width:%?200?%;height:%?80?%;line-height:%?80?%;border:%?1?% solid #d81e06;border-radius:%?40?%;color:#d81e06}",""])},d1ca:function(t,n,i){"use strict";var e=i("a2ff"),s=i.n(e);s.a},f883:function(t,n,i){"use strict";var e=i("32b8"),s=i.n(e);s.a}}]);