(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesMall-mall-search"],{"13c6":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(n("a34a")),a=c(n("ec9c")),r=c(n("7efa")),o=n("2f62");function c(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,i,a,r,o){try{var c=t[r](o),s=c.value}catch(l){return void n(l)}c.done?e(s):Promise.resolve(s).then(i,a)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(i,a){var r=t.apply(e,n);function o(t){s(r,i,a,o,c,"next",t)}function c(t){s(r,i,a,o,c,"throw",t)}o(void 0)})}}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){h(t,e,n[e])})}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={data:function(){return{topHideViewStyle:0,searchHistoryList:[]}},components:{uniNavBar:a.default,uniIcon:r.default},computed:u({},(0,o.mapState)(["mallSearch"])),methods:{back:function(){console.log("back this.mallSearch.text",this.mallSearch.text),this.mallSearch.text||(this.mallSearch.open=!1),uni.navigateBack()},confirm:function(){var t=l(i.default.mark(function t(){var e,n;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("confirm this.mallSearch.text",this.mallSearch.text),this.mallSearch.text&&(e="all",n=this.$store.state.mallType,this.$store.state.mallGoodsListData[n][e].page=1,this.$store.state.mallGoodsListData[n][e].rows=[],this.$store.state.mallGoodsListData[n][e].timestamp=0,this.mallSearch.open=!0,uni.navigateBack({delta:1}));case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),searchHistory:function(t){this.mallSearch.text=t,this.confirm()},cancel:function(){var t=l(i.default.mark(function t(){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.mallSearch.open=!0,this.mallSearch.text="",uni.navigateBack();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},onReady:function(){var t=l(i.default.mark(function t(){var e,n=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:console.log("onReady"),e=uni.createSelectorQuery().select(".uni-navbar"),e.boundingClientRect(function(t){console.log("得到布局位置信息"+JSON.stringify(t)),n.topHideViewStyle=t.height}).exec();case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onLoad:function(){var t=l(i.default.mark(function t(){return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log("onLoad==========="),t.next=3,this.$store.dispatch("mallSearchList");case 3:this.searchHistoryList=t.sent,console.log("this.searchHistoryList",this.searchHistoryList);case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()};e.default=f},1805:function(t,e,n){"use strict";n.r(e);var i=n("2ff1"),a=n("a9de");for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);n("be88");var o=n("2877"),c=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"c5547720",null);e["default"]=c.exports},"2ff1":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{},[n("uni-nav-bar",{attrs:{color:"#333333","background-color":"#FFFFFF",fixed:"true"},on:{"click-left":function(e){e=t.$handleEvent(e),t.back(e)},"click-right":function(e){e=t.$handleEvent(e),t.cancel(e)}}},[n("template",{attrs:{slot:"left"},slot:"left"},[n("v-uni-view",{staticClass:"uni-common-pl"},[n("uni-icon",{attrs:{type:"back",size:"22",color:"#666666"}})],1)],1),n("v-uni-view",{staticClass:"input-view"},[n("uni-icon",{attrs:{type:"search",size:"22",color:"#666666"}}),n("v-uni-input",{staticClass:"input",attrs:{"confirm-type":"search",type:"text",placeholder:"输入搜索关键词"},on:{confirm:function(e){e=t.$handleEvent(e),t.confirm(e)}},model:{value:t.mallSearch.text,callback:function(e){t.$set(t.mallSearch,"text",e)},expression:"mallSearch.text"}}),n("uni-icon",{attrs:{type:"clear",size:"22",color:"#666666"},on:{click:function(e){e=t.$handleEvent(e),t.cancel(e)}}})],1),n("template",{attrs:{slot:"right"},slot:"right"},[n("v-uni-view",{staticClass:"uni-common-pr"},[t._v("取消")])],1)],2),n("v-uni-view",{staticClass:"uni-common-pa",style:{height:t.topHideViewStyle+"px"}},[t._v("")]),n("v-uni-view",{staticClass:"uni-common-pa"},[t.searchHistoryList.length?n("v-uni-view",{staticClass:"uni-common-mb uni-common-pb uni-border-bottom"},[n("v-uni-view",{staticClass:"uni-bold"},[t._v("历史搜索")]),t._l(t.searchHistoryList,function(e,i){return n("v-uni-view",{key:i,staticClass:"uni-inline-block uni-bg-gray uni-ellipsis search-item ",on:{click:function(n){n=t.$handleEvent(n),t.searchHistory(e)}}},[t._v(t._s(e))])})],2):t._e()],1)],1)},a=[];n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a})},3650:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".input-view[data-v-c5547720]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;background-color:#e7e7e7;height:%?48?%;border-radius:%?48?%;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;line-height:%?48?%}.input-view .uni-icon[data-v-c5547720]{line-height:%?48?%!important}.input-view .input[data-v-c5547720]{height:%?48?%;line-height:%?48?%;width:90%;padding:0 3%}.search-item[data-v-c5547720]{width:%?150?%;height:%?60?%;line-height:%?60?%;margin-right:%?20?%;margin-top:%?10?%;border-radius:%?30?%;padding:0 %?30?%}.search-item.xl[data-v-c5547720]{width:%?260?%}",""])},"5f50":function(t,e,n){var i=n("3650");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("1079d0e2",i,!0,{sourceMap:!1,shadowMode:!1})},a9de:function(t,e,n){"use strict";n.r(e);var i=n("13c6"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);e["default"]=a.a},be88:function(t,e,n){"use strict";var i=n("5f50"),a=n.n(i);a.a}}]);