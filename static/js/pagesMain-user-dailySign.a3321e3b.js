(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesMain-user-dailySign"],{"0cbf":function(t,i,n){"use strict";n.r(i);var a=n("aff0"),e=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(i,t,function(){return a[t]})}(s);i["default"]=e.a},"2f28":function(t,i,n){"use strict";n.r(i);var a=n("c984"),e=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(i,t,function(){return a[t]})}(s);i["default"]=e.a},"330d":function(t,i,n){"use strict";var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"uni-page-body"},[n("v-uni-view",{staticClass:"user-top-1 uni-bg-red"}),n("v-uni-view",{staticClass:"uni-common-pa uni-center uni-text-white",staticStyle:{position:"relative"}},[n("v-uni-view",{staticClass:"uni-h4"},[t._v("连续累计签到"),n("v-uni-text",{staticClass:"uni-h1",staticStyle:{"margin-left":"10upx","margin-right":"10upx"}},[t._v(t._s(t.dailySignData.continues_num))]),t._v("天")],1),n("v-uni-view",{},[t._v("累计获得奖励："),n("v-uni-text",{staticClass:"uni-h3 uni-text-yellow",staticStyle:{"margin-left":"10upx","margin-right":"10upx"}},[t._v(t._s(t.dailySignData.score))]),t._v("积分")],1),n("v-uni-view",{staticClass:"uni-common-pt"},[n("v-uni-view",{staticClass:"uni-common-pa"},[n("v-uni-view",{staticStyle:{width:"630upx",height:"48upx"}},[n("v-uni-image",{staticStyle:{width:"630upx",height:"48upx"},attrs:{"lazy-load":"true",src:"/static/img/user/sign-top.png",mode:""}})],1),n("v-uni-view",{staticClass:"uni-bg-white "},[n("v-uni-view",{staticClass:"uni-flex uni-center uni-text-light uni-common-pa"},[n("v-uni-view",{staticStyle:{width:"50upx",height:"50upx","margin-right":"10upx"}},[n("v-uni-image",{staticStyle:{width:"50upx",height:"50upx"},attrs:{"lazy-load":"true",src:"../../static/icon/user/sign-calendar.png",mode:""}})],1),n("v-uni-view",{},[t._v("签到记录")]),n("v-uni-view",{staticClass:"uni-flex-item"},[n("v-uni-text",{staticClass:"sign-dot uni-bg-blue"}),t._v("已签到")],1),n("v-uni-view",{staticClass:"uni-flex-item"},[n("v-uni-text",{staticClass:"sign-dot uni-bg-gray"}),t._v("未签到")],1),n("v-uni-view",{staticClass:"uni-flex-item"},[n("v-uni-text",{staticClass:"sign-dot uni-bg-pink"}),t._v("今日")],1)],1),n("v-uni-view",{staticClass:"uni-flex uni-center uni-text-dark uni-common-mt"},t._l(t.weekdays,function(i,a){return n("v-uni-view",{key:a,staticClass:"uni-flex-item"},[t._v(t._s(i))])})),t._l(t.monthDays,function(i,a){return n("v-uni-view",{key:a,staticClass:"uni-flex uni-common-mt"},t._l(i,function(i,a){return n("v-uni-view",{key:a,staticClass:"uni-center",staticStyle:{width:"90upx"}},[i.day==t.day?[i.active?n("v-uni-text",{staticClass:"month-day-item month-day-item-active"},[t._v(t._s(i.day))]):n("v-uni-text",{staticClass:"month-day-item month-day-item-today"},[t._v(t._s(i.day))])]:t._e(),i.day>t.day?n("v-uni-text",{staticClass:"month-day-item"},[t._v(t._s(i.day))]):t._e(),i.day<t.day&&i.day>0?[i.active?n("v-uni-text",{staticClass:"month-day-item month-day-item-active"},[t._v(t._s(i.day))]):n("v-uni-text",{staticClass:"month-day-item month-day-item-no-active"},[t._v(t._s(i.day))])]:t._e()],2)}))}),n("v-uni-view",{staticClass:"uni-common-mt"},[n("v-uni-view",{staticClass:"uni-common-pa"},[n("v-uni-view",{staticClass:"uni-common-pl uni-common-pr"},[0==t.dailySignData.today_sign?n("v-uni-view",{staticClass:"uni-bg-pink uni-border-btn-radius",staticStyle:{"line-height":"80upx"},on:{click:function(i){i=t.$handleEvent(i),t.dailySignAction(i)}}},[t._v("我要签到")]):n("v-uni-view",{staticClass:"uni-bg-gray uni-border-btn-radius",staticStyle:{"line-height":"80upx"}},[t._v("已签到")])],1)],1)],1)],2),n("v-uni-view",{staticClass:"uni-common-mt"})],1)],1)],1),n("score-show",{attrs:{info:t.scoreInfo}})],1)},e=[];n.d(i,"a",function(){return a}),n.d(i,"b",function(){return e})},"3f0f":function(t,i,n){i=t.exports=n("2350")(!1),i.push([t.i,".score-show[data-v-6a930c89]{position:fixed;width:80%;left:10%;bottom:%?100?%;z-index:1000;background:rgba(0,0,0,.6);border-radius:%?8?%;line-height:%?80?%;text-align:center;color:#fff}",""])},4024:function(t,i,n){"use strict";var a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",{staticClass:"score-show"},[n("v-uni-text",[t._v(t._s(t.info))])],1)},e=[];n.d(i,"a",function(){return a}),n.d(i,"b",function(){return e})},"600b":function(t,i,n){"use strict";var a=n("c9e9"),e=n.n(a);e.a},"784d":function(t,i,n){"use strict";n.r(i);var a=n("4024"),e=n("2f28");for(var s in e)"default"!==s&&function(t){n.d(i,t,function(){return e[t]})}(s);n("600b");var u=n("2877"),o=Object(u["a"])(e["default"],a["a"],a["b"],!1,null,"6a930c89",null);i["default"]=o.exports},a3a2:function(t,i,n){var a=n("abc5");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var e=n("4f06").default;e("2964642a",a,!0,{sourceMap:!1,shadowMode:!1})},a68f:function(t,i,n){"use strict";n.r(i);var a=n("330d"),e=n("0cbf");for(var s in e)"default"!==s&&function(t){n.d(i,t,function(){return e[t]})}(s);n("e91f");var u=n("2877"),o=Object(u["a"])(e["default"],a["a"],a["b"],!1,null,"8150b534",null);i["default"]=o.exports},abc5:function(t,i,n){i=t.exports=n("2350")(!1),i.push([t.i,".user-top-1[data-v-8150b534]{position:fixed;width:100%;height:%?500?%}.sign-dot[data-v-8150b534]{display:inline-block;width:%?20?%;height:%?20?%;\n  /* background: #000000; */border-radius:%?10?%;margin-right:%?10?%}.month-day-item[data-v-8150b534]{display:inline-block;width:%?48?%;height:%?48?%;\n  /* background: #000; */border-radius:%?24?%}.month-day-item-today[data-v-8150b534]{background:#ff6262;color:#fff}.month-day-item-active[data-v-8150b534]{background:#007aff;color:#fff}.month-day-item-no-active[data-v-8150b534]{background:#eee\n  /* color: #333333; */}",""])},aff0:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(n("a34a")),e=s(n("784d"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,i,n,a,e,s,u){try{var o=t[s](u),r=o.value}catch(c){return void n(c)}o.done?i(r):Promise.resolve(r).then(a,e)}function o(t){return function(){var i=this,n=arguments;return new Promise(function(a,e){var s=t.apply(i,n);function o(t){u(s,a,e,o,r,"next",t)}function r(t){u(s,a,e,o,r,"throw",t)}o(void 0)})}}var r={components:{scoreShow:e.default},data:function(){return{weekdays:["日","一","二","三","四","五","六"],year:0,month:0,day:0,monthDays:[],dailySignData:{continues_num:0,active_days:[],score:0,balance:0,today_sign:0},scoreInfo:""}},computed:{},onNavigationBarButtonTap:function(t){0===t.index&&uni.navigateTo({url:"/pagesMain/user/dailySignRule"})},methods:{scoreShowPop:function(t){var i=this;this.scoreInfo=t,setTimeout(function(){i.scoreInfo=""},3e3)},dailySignAction:function(){var t=o(a.default.mark(function t(){var i,n,e,s;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({mask:!0,title:"签到中..."}),t.next=3,this.$store.dispatch("userDailySignAction");case 3:i=t.sent,console.log("userDailySignAction",JSON.stringify(i)),uni.hideLoading(),0==i.code?(n=i.data,e=n.score,n.balance,s="签到成功",e&&(s+=",获得"+e+"积分奖励"),this.scoreShowPop(s),this.getDailySignData()):uni.showToast({icon:"none",title:i.message});case 7:case"end":return t.stop()}},t,this)}));function i(){return t.apply(this,arguments)}return i}(),getDailySignData:function(){var t=o(a.default.mark(function t(){var i;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("userDailySignDataGet");case 2:i=t.sent,console.log("userDailySignDataGet =====",i),0==i.code&&(this.dailySignData=i.data);case 5:case"end":return t.stop()}},t,this)}));function i(){return t.apply(this,arguments)}return i}()},onLoad:function(){var t=o(a.default.mark(function t(){var i,n,e,s,u,o,r,c,l,d;return a.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(i=new Date,this.year=i.getFullYear(),this.month=i.getMonth()+1,this.day=i.getDate(),n=new Date(this.year,this.month,0),e=n.getDate(),new Date(this.year,this.month,1),s=n.getDay(),u=0,o=0,r=1,c=[],l=0;l<s;l++)c[u]||(c[u]=[]),c[u].push(""),o++;return t.next=15,this.getDailySignData();case 15:for(l=0;l<e;l++)c[u]||(c[u]=[]),d={},this.dailySignData.active_days.indexOf(r)>-1?(d.day=r,d.active=!0):(d.day=r,d.active=!1),c[u].push(d),r++,o++,o>=7&&(o=0,u++);console.log(c),this.monthDays=c;case 18:case"end":return t.stop()}},t,this)}));function i(){return t.apply(this,arguments)}return i}()};i.default=r},c984:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={props:{info:{type:String,default:""}}};i.default=a},c9e9:function(t,i,n){var a=n("3f0f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var e=n("4f06").default;e("14cd5f7c",a,!0,{sourceMap:!1,shadowMode:!1})},e91f:function(t,i,n){"use strict";var a=n("a3a2"),e=n.n(a);e.a}}]);